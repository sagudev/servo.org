<?xml version="1.0" encoding="utf-8"?>
<feed xml:base="https://servo.org" xmlns="http://www.w3.org/2005/Atom">
  <title>Servo Blog</title>
  <subtitle>All the entries in the Servo blog.</subtitle>
  <link href="https://servo.org/blog/feed.xml" rel="self"/>
  <link href="https://servo.org"/>
  <updated>2024-01-26T00:00:00Z</updated>
  <id>https://servo.org</id>
  <author>
    <name>Servo Team</name>
    <email>info@servo.org</email>
  </author>
  <entry>
    <title>Two months in Servo: and more!</title>
    <link href="https://servo.org/blog-january-2024/blog/2024/01/26/two-months-in-servo/"/>
    <updated>2024-01-26T00:00:00Z</updated>
    <id>https://servo.org/blog-january-2024/blog/2024/01/26/two-months-in-servo/</id>
    <content xml:lang="en" type="html">&lt;p&gt;Servo has had some exciting changes land in our nightly builds over the last month:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;as of 2023-12-27, the ‘text-align-last’ property is now supported (@mrobinson, #30905)&lt;/li&gt;
&lt;li&gt;as of 2023-12-27, ‘text-align: justify’ is now supported (@mrobinson, #30807, #30866)&lt;/li&gt;
&lt;li&gt;as of 2024-01-09, ‘line-height’ and ‘vertical-align’ are now moderately supported (@mrobinson, #30902)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We’ve started working on support for &lt;strong&gt;sticky positioning&lt;/strong&gt; and &lt;strong&gt;tables&lt;/strong&gt; in the new layout engine, with some very early sticky positioning code landing in 2023-11-30 (@mrobinson, #30686), the CSS tables tests now enabled (@mrobinson, #31131), and rudimentary table layout landing in 2024-01-20 under the &lt;code&gt;layout.tables.enabled&lt;/code&gt; pref (@mrobinson, @Loirooriol, #31121).&lt;/p&gt;
&lt;p&gt;We have also made big strides in our WPT pass rates:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CSS2 floats&lt;/strong&gt; (+3.3pp to 84.9%) and &lt;strong&gt;floats-clear&lt;/strong&gt; (+5.6pp to 78.9%) continue to surge&lt;/li&gt;
&lt;li&gt;we now surpass legacy layout in the &lt;strong&gt;CSS2 linebox&lt;/strong&gt; tests (&lt;strong&gt;61.1% → 87.9%&lt;/strong&gt;, legacy 86.4%)&lt;/li&gt;
&lt;li&gt;we now surpass legacy layout in the &lt;strong&gt;css-flexbox&lt;/strong&gt; tests (49.5% → 52.7%, legacy 52.2%)&lt;/li&gt;
&lt;li&gt;we’ve closed 76% of the gap in &lt;strong&gt;key CSS2 tests&lt;/strong&gt; (79.2% → 82.2%, legacy 83.1%)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Many stability improvements have landed, including fixes for a crash in inline layout (@atbrakhi, #30897), three WebGPU-related crashes (@lucasMontenegro, @gterzian, @Taym95, #30888, #30989, #31002), a crash in the PerformanceResourceTiming API (@delan, #31063), and several crashes due to script runtimes being dropped in the wrong order (@gterzian, #30896).&lt;/p&gt;
&lt;p&gt;The default branch in &lt;a href=&quot;https://github.com/servo/servo&quot;&gt;our main repo&lt;/a&gt; is now &lt;code&gt;main&lt;/code&gt; (@atouchet, #30877).&lt;/p&gt;
&lt;h2 id=&quot;linux-build-issues&quot; tabindex=&quot;-1&quot;&gt;Linux build issues &lt;a class=&quot;header-anchor&quot; href=&quot;https://servo.org/blog-january-2024/blog/2024/01/26/two-months-in-servo/#linux-build-issues&quot;&gt;
        &lt;span class=&quot;icon hashlink&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/span&gt;
      &lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Several people have reported problems building Servo on newer Linux distro versions, particularly &lt;a href=&quot;https://github.com/servo/servo/issues/31059&quot;&gt;with clang 15&lt;/a&gt; or &lt;a href=&quot;https://github.com/servo/servo/issues/30587&quot;&gt;with clang 16&lt;/a&gt;.
While we’re still working on fixing the underlying issues, there are some workarounds.
If your distro lets you install older versions of clang with a package like &lt;code&gt;clang-14&lt;/code&gt;, you can tell Servo to use it with:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;export CC=/usr/bin/clang-14
export CXX=/usr/bin/clang++-14
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Alternatively you can try our new Nix-based dev environment, which should now work on any Linux distro (@delan, #31001).
&lt;a href=&quot;https://nixos.org/manual/nix/stable/&quot;&gt;Nix&lt;/a&gt; is a package manager with some unusual benefits.
Servo can use Nix to find the correct versions of all of its compilers and build dependencies without needing you to install them or run &lt;code&gt;mach bootstrap&lt;/code&gt;.
All you need to do is install Nix, and &lt;code&gt;export MACH_USE_NIX=&lt;/code&gt; to your environment.
&lt;a href=&quot;https://github.com/servo/servo/wiki/Building#nix-on-other-distros&quot;&gt;See the wiki&lt;/a&gt; for more details!&lt;/p&gt;
&lt;!--
    - layout
        - DONE sticky
        - DONE tables
        - inline
        - Au
    - DONE wpt
    - webgpu
    - xtermjs
    - android
    - updates
    - DONE stability
    - dev
--&gt;
&lt;!--
    based on
    - wpt dashboard
        prev	cur	legacy		delta	gap	ratio		
        79.2	82.2	83.1		3.0	3.9	76.9%		focus
        81.6	84.9	53.5		3.3	-28.1	-11.7%		floats
        73.3	78.9	68.2		5.6	-5.1	-109.8%		floats-clear
        61.1	87.9	86.4		26.8	25.3	105.9%		linebox !!
        78.1	78.8	87.5		0.7	9.4	7.4%		normal-flow
        87.6	88.2	81.1		0.6	-6.5	-9.2%		positioning
        60.5	61.8	60.1		1.3	-0.4	-325.0%		cssom
        44.6	48.6	44.2		4.0	-0.4	-1000.0%		css-position
        49.5	52.7	52.2		3.2	2.7	118.5%		css-flexbox !!
        8.2	30.8	36.8		22.6	28.6	79.0%		tables, css-tables
        39.9	44.2	35.6		4.3	-4.3	-100.0%		/css/csstext
        60.3	62.5	63.5		2.2	3.2	68.8%		/css
    - commits in nightlies 2023-11-28 through 2023-11-27
        &gt;&gt;&gt; 2023-11-28T11:16:56Z
        &gt;&gt;&gt; 2023-11-29T06:07:54Z
        &gt;&gt;&gt; 2023-11-30T05:57:47Z
            +++ a05598402e8b21948e1ee9567dca76a491bd266e	https://github.com/servo/servo/pull/30686	Add initial support for sticky positioning for non-legacy layout (#30686)
        &gt;&gt;&gt; 2023-12-01T05:53:38Z
        +++ f1c291853e331329271efba52a03ba5049e8358b	https://github.com/servo/servo/pull/30740	Stop sending &quot; &quot; to linebreaker for replaced content (#30740)
        &gt;&gt;&gt; 2023-12-02T06:08:38Z
        +++ 604979e367faa6aa09805e8fa0223b8883ea009d	https://github.com/servo/servo/pull/30508	Replace script_plugins with a clippy like rustc driver (named crown) (#30508)
        +++ cdbd60fe53f64f08efcf9715c4655e38cd1d7ddd	https://github.com/servo/servo/pull/30800	Extend character-based soft wrap prevention to before atomics (#30800)
        &gt;&gt;&gt; 2023-12-03T05:57:33Z
        &gt;&gt;&gt; 2023-12-04T06:02:05Z
        &gt;&gt;&gt; 2023-12-11T05:28:33Z
        &gt;&gt;&gt; 2023-12-12T06:15:50Z
        &gt;&gt;&gt; 2023-12-13T06:06:44Z
        +++ 17f3c45d4ff597dc1e179d89784bb5f57b4c03d7	https://github.com/servo/servo/pull/30767	Add initial support for offscreen rendering (#30767)
        +++ 97e6c72f5767e1cd754c82317a21aa222c5d968b	https://github.com/servo/servo/pull/30840	Add multiview feature flag in compositing and constellation (#30840)
        +++ 8a226fdb1975ae1df8d1a673eb3dca9f2bb771aa	https://github.com/servo/servo/pull/30841	constellation: notify embedder when events are hit-tested to browsers (#30841)
        &gt;&gt;&gt; 2023-12-14T06:16:19Z
        &gt;&gt;&gt; 2023-12-27T06:06:58Z
        +++ 7973cb64586d94a6987562fe6f180ac29ef0e971	https://github.com/servo/servo/pull/30926	Update wgpu to 0.18.1 (#30926)
        +++ 1f0f50b22bb43e965febf31f5a436113f2958725	https://github.com/servo/servo/pull/30912	Customizable wpt options and profile in workflows (#30912)
            +++ 81f5157522ae320068515571a371aa3b72de0cfa	https://github.com/servo/servo/pull/30868	Add support for table fixups (#30868)
            +++ 709d00583fb28fb668f10eab1f2f16f07c331078	https://github.com/servo/servo/pull/30866	layout: Make all word separators justification opportunities (#30866)
            +++ 74798c4b7bf173fc99b96e219c6c2cab136d5c4c	https://github.com/servo/servo/pull/30905	layout: Add support for `text-align-last` (#30905)
            +++ a9bf29cf8aede9771a16922c98cc933ce84b2ccc	https://github.com/servo/servo/pull/30897	Fix crash caused by arithmetic underflow in layout2020 (#30897)
        +++ abb017b8543efea54b732efa2846b25c949985c9	https://github.com/servo/servo/pull/30898	script: Allow moving back to non-quirks mode (#30898)
            +++ 256ab5353b9145dbda103ec48cf4d10f32f6912a	https://github.com/servo/servo/pull/30888	These changes fix #30843 (#30888) Fix a crash in WebGPU when WebGPU is disabled
            +++ e4aed3d06a8a1ef6e7af142f02be95ce2a3065cb	https://github.com/servo/servo/pull/30877	Update branch name to main (#30877)
            +++ ccf0b739dfca312a65002c443fb09537aa27225b	https://github.com/servo/servo/pull/30807	Add basic support for `text-align: justify` (#30807)
        +++ 569c4a8823369678870e1b5f50a2c484d32fb687	https://github.com/servo/servo/pull/30803	Integrate hyper_serde into Servo source (#30803)
        &gt;&gt;&gt; 2023-12-28T06:04:45Z
        &gt;&gt;&gt; 2023-12-29T06:03:36Z
        +++ e79171ec01199ba7100c0ad90576a6ec5705d80c	https://github.com/servo/servo/pull/30954	Update WebGPU CTS (#30954)
        &gt;&gt;&gt; 2023-12-30T06:12:29Z
        &gt;&gt;&gt; 2023-12-31T06:14:24Z
        &gt;&gt;&gt; 2024-01-01T06:08:41Z
        &gt;&gt;&gt; 2024-01-02T06:15:51Z
        +++ 7964a4f582d5697e0ea55203dd4ec25d69dbed97	https://github.com/servo/servo/pull/30963	Unfork and upgrade jemallocator (#30963)
        &gt;&gt;&gt; 2024-01-03T06:11:55Z
        +++ 3353db71d232ed3e6108950e21a6dba6360e6d57	https://github.com/servo/servo/pull/30975	Fail gracefully when DMG smoketest fails (#30975)
        &gt;&gt;&gt; 2024-01-04T06:14:15Z
            +++ f44ff83c20b82d1f3272d9389563e30f0d3c9700	https://github.com/servo/servo/pull/30989	WebGPU: always send exit message to script before exiting (#30989)
        +++ 65cbc95d38819e9b3d5870953015a9e7963a0ace	https://github.com/servo/servo/pull/30927	Replace time with std::time in components/devtools (#30927)
        +++ 0dbba9b6ffe0507011337c27c2709f6c4cebe1c0	https://github.com/servo/servo/pull/30973	Download Windows GStreamer dependencies from GitHub (#30973)
        &gt;&gt;&gt; 2024-01-05T06:16:06Z
        +++ c219204084b8f8a747ebd37ec75472c1b7e97411	https://github.com/servo/servo/pull/30987	Fix crown on NixOS (#30987)
            +++ 90a9300f698aa266db47b336f3fcd7d6680b4d65	https://github.com/servo/servo/pull/30896	Script: ensure child JS runtimes are dropped before parent (#30896)
        &gt;&gt;&gt; 2024-01-08T06:07:00Z
        +++ 79a0f76d26d43c7f6e38a60fbe2ec6bed1510543	https://github.com/servo/servo/pull/31019	Fix the build on Ubuntu 20.04 (#31019)
        +++ 9a1d7aabd71fe82c9420abdc33a6a9ba0f8eac52	https://github.com/servo/servo/pull/31003	bootstrap: Adding more output when installing dependencies (#31003)
        +++ 7fa4ea9740edccc93672d8cc428f6e9d4575a036	https://github.com/servo/servo/pull/30750	Upgrade media / GStreamer / GLib (#30750) 0.15 -&gt; 0.21
        &gt;&gt;&gt; 2024-01-09T06:16:45Z
            +++ aa073c3dcaffe30c7a6e272ba4ef5121c090f1bf	https://github.com/servo/servo/pull/30902	layout: Implement support for `line-height` and `vertical-align` (#30902)
        &gt;&gt;&gt; 2024-01-10T06:16:53Z
            +++ 94a3c49a807626ecddb7f062e6856e9e0d66baca	https://github.com/servo/servo/pull/31001	Allow building with Nix on Linux distros other than NixOS (#31001)
        +++ 6a804cd775e3976103269ac54ae997a3accc8618	https://github.com/servo/servo/pull/30974	Integrate the `devices` respository (#30974)
            +++ fddc4a430fca591152c69f0793ab946dcdc81617	https://github.com/servo/servo/pull/31002	Fix failed request for adapter when not available (#31002)
        &gt;&gt;&gt; 2024-01-11T06:08:02Z
        +++ 92196d985dceb0ca708b097e2a847b255d8387c8	https://github.com/servo/servo/pull/31020	Replace time with std::time in components/metrics &amp; components/shared (#31020)
        +++ 17ffbbdd11b47d577bdfe4318c36bcb5de365b18	https://github.com/servo/servo/pull/31052	Nix: bump nixpkgs to nixos-23.05 (except gnumake) (#31052)
        &gt;&gt;&gt; 2024-01-12T06:07:36Z
        +++ e145c512347807cdf44537fdfa83f2a5dda05b5a	https://github.com/servo/servo/pull/30990	WebIDL: use FLoat32Array  (#30990)
            +++ 90f70e3408e1d4b3f378e50f9f051cb00c77c446	https://github.com/servo/servo/pull/31063	Fix underflow in PerformanceResourceTiming API (#31063)
        +++ 1f1cf1499d1e249c58fb3ac8986e62cf0d796497	https://github.com/servo/servo/pull/31055	Nix: bump nixpkgs to nixos-unstable (#31055)
        &gt;&gt;&gt; 2024-01-13T06:04:19Z
        +++ abb54f7832682bad1545b307a545a7ba977ef209	https://github.com/servo/servo/pull/31075	build: Don&#39;t add the `neon` feature for arm and aarch64 (#31075)
        &gt;&gt;&gt; 2024-01-14T06:05:53Z
        &gt;&gt;&gt; 2024-01-15T06:10:05Z
        &gt;&gt;&gt; 2024-01-16T06:18:19Z
        +++ efa38c67fe6bdec751739bb3a0a6d159f2b695c8	https://github.com/servo/servo/pull/31091	ci: Remove the nightly-rust workflow (#31091)
        +++ 0d240b8713fb5cd933d348e668ab02a53859282b	https://github.com/servo/servo/pull/31088	deps: Raise the Python requirement to 3.10 (#31088)
        &gt;&gt;&gt; 2024-01-17T06:09:03Z
        +++ 8c53a8c745ab2a5b660d6f170e74b4fecca189c1	https://github.com/servo/servo/pull/31077	use FLoat32Array in XRView (#31077)
        +++ 9654363c187ee549b82bca8c4e3098e4c20c7287	https://github.com/servo/servo/pull/30639	script: Start replacing `time` with `std::time` and `chrono`  (#30639)
        &gt;&gt;&gt; 2024-01-18T06:17:19Z
        +++ 580062228bb083ccdc2144a43491bc4f916c57ad	https://github.com/servo/servo/pull/31079	Replace time with std::time in components/net (#31079)
        +++ d86e713a9cb5be2555d63bd477d47d440fa8c832	https://github.com/servo/servo/pull/31092	build: Clean up post-build copy of Windows DLLs (#31092)
        +++ f76982e2e7f411e2e2fd8e6dbfe92a080acefc54	https://github.com/servo/servo/pull/31087	script: Use FLoat32Array in XRRay (#31087)
        +++ 6a7b450478f69d9d83b0936a0ab28ac2d94761d4	https://github.com/servo/servo/pull/31076	use FLoat32Array in XRRigidTransform (#31076)
        &gt;&gt;&gt; 2024-01-19T06:05:45Z
        +++ 8e5f28839cde6b9ee5cd7cb4f8c27ff0ae10a86c	https://github.com/servo/servo/pull/31120	Revert &quot;Replace time with std::time in components/net (#31079)&quot; (#31120)
        &gt;&gt;&gt; 2024-01-20T06:04:40Z
            +++ fc31e69f79a68408fdd376a52942587a8fca9170	https://github.com/servo/servo/pull/31121	layout: Add *very* basic support for table layout (#31121)
        +++ 3d520f266800e0035c429ddf2a3b45922f502ebd	https://github.com/servo/servo/pull/30894	Use App units in flow layout (#30894)
            +++ 734eb469549db22b070d86bb13a8bd167d5d1e8e	https://github.com/servo/servo/pull/31131	wpt: Unskip the `css-tables suite (#31131)
        +++ 9d2c102fa0cc034b2bde51d27cd6c0e7f3cafa30	https://github.com/servo/servo/pull/31106	Use FLoat32Array in GamepadPose (#31106)
        &gt;&gt;&gt; 2024-01-21T06:06:07Z
        &gt;&gt;&gt; 2024-01-22T06:08:36Z
        &gt;&gt;&gt; 2024-01-23T06:22:19Z
        +++ d7de206dbd459e8c8bf121f73755d12569c6cc55	https://github.com/servo/servo/pull/31086	Preliminary Android build support (#31086)
        &gt;&gt;&gt; 2024-01-24T06:17:36Z
        +++ 5d7e2a823985a8314b10dc363eb191c0d4330424	https://github.com/servo/servo/pull/31123	Implement Event.composedPath (#31123)
        +++ 54fb381a0a4c070bac75e9f602bf905fa101194d	https://github.com/servo/servo/pull/31133	layout: Convert layout internal display to inline for replaced elements (#31133)
        +++ 7de0486e2e67a17e4cdcc881c7f3bd3fd1a66fb6	https://github.com/servo/servo/pull/31161	layout: Count word separators as justification opportunities when trimming whitespace (#31161)
        +++ dc2df7b02767004f0900055d985ecfc6cd874c9a	https://github.com/servo/servo/pull/31148	build: Add support for Visual Studio 2022 and VC143 DLLs (#31148)
        +++ 45af1198aa05882d6433642c45d1cd329f145782	https://github.com/servo/servo/pull/31135	Layout: use `Au` in `ContentSizes`  (#31135)
        &gt;&gt;&gt; 2024-01-25T06:07:31Z
        +++ eb95703325aeb48d5f56a8da5b258bad608dd632	https://github.com/servo/servo/pull/30842	constellation: focusing and closing webviews (#30842)
--&gt;
&lt;!--
&gt;&gt;&gt; 2023-11-28T11:16:56Z
    81a38bde8cc0359efc32f2661fa5e4db33b38446	https://github.com/servo/servo/pull/30792	ci: do not set LIBCLANG_PATH for nightly build (#30792)
    0b2456b1eb8d251dd2f997d1e1958f23f5e4b777	https://github.com/servo/servo/pull/30791	build(deps): bump proc-macro2 from 1.0.69 to 1.0.70 (#30791)
    3a036a639e6cb5e4c0546de3adfde00e0b3e8d15	https://github.com/servo/servo/pull/30790	build(deps): bump js-sys from 0.3.65 to 0.3.66 (#30790)
    cccf8c2ffeeb3015ee5c3312bcf34e2caf48742f	https://github.com/servo/servo/pull/30789	build(deps): bump wasm-bindgen from 0.2.88 to 0.2.89 (#30789)
    139df1c73bba43a3fc6032bfc0f5518e9d87e856	https://github.com/servo/servo/pull/30783	Sync WPT with upstream (26-11-2023) (#30783)
    76401823f272754ba851a6fcbf0e4a63d074824e	https://github.com/servo/servo/pull/30775	build(deps): bump url from 2.4.1 to 2.5.0 (#30775)
    d10688b5ef3dceb2b8a0e5ca4e089cba12bca0cd	https://github.com/servo/servo/pull/30787	ci: use ubuntu 20.04 for nightly builds on linux (#30787)
&gt;&gt;&gt; 2023-11-29T06:07:54Z
    bab2b58216f8845b3ecc8e0eaeba3b7175034f64	https://github.com/servo/servo/pull/30794	build(deps): bump errno from 0.3.7 to 0.3.8 (#30794)
    8f3491393f90678db6c65cc02ffe6c2403ece5ac	https://github.com/servo/servo/pull/30793	build(deps): bump web-sys from 0.3.65 to 0.3.66 (#30793)
&gt;&gt;&gt; 2023-11-30T05:57:47Z
    53b0fa827d37f3f7127470371d12d2a1c917e396	https://github.com/servo/servo/pull/30796	Fix build script error.because starting with Python 3.9, the util module was moved from importlib to a separate top-level module called importlib.util. Therefore, if you are using Python 3.9 or later and you receive an AttributeError stating that module &#39;importlib&#39; has no attribute &#39;util&#39;, it is likely due to a compatibility issue with your code. You can fix this issue by updating your code to import importlib.util directly (#30796)
    dd9366bfe7a76b3bee953632fa76b95d55618e3c	https://github.com/servo/servo/pull/30798	build(deps): bump ring from 0.17.5 to 0.17.6 (#30798)
+++ a05598402e8b21948e1ee9567dca76a491bd266e	https://github.com/servo/servo/pull/30686	Add initial support for sticky positioning for non-legacy layout (#30686)
&gt;&gt;&gt; 2023-12-01T05:53:38Z
    b125bb6b6aa095fc287f279a13e6ff423deb3b0f	https://github.com/servo/servo/pull/30801	build(deps): bump core-foundation from 0.9.3 to 0.9.4 (#30801)
+++ f1c291853e331329271efba52a03ba5049e8358b	https://github.com/servo/servo/pull/30740	Stop sending &quot; &quot; to linebreaker for replaced content (#30740)
&gt;&gt;&gt; 2023-12-02T06:08:38Z
    7bcb25c85c98c367c6423ebc0fed964dd08cad56	https://github.com/servo/servo/pull/30812	build(deps): bump slotmap from 1.0.6 to 1.0.7 (#30812)
    d837eb905518d0849f16a39ba343bdaffef1732f	https://github.com/servo/servo/pull/30809	build(deps): bump linux-raw-sys from 0.4.11 to 0.4.12 (#30809)
    49e8517b3a35009abedd10d08cc8f8faadd6e029	https://github.com/servo/servo/pull/30810	build(deps): bump core-graphics-types from 0.1.2 to 0.1.3 (#30810)
    20a122c2f6a1a97cf39938bc90b0d91cc198f0c7	https://github.com/servo/servo/pull/30804	Use git2 version of vergen (#30804)
+++ 604979e367faa6aa09805e8fa0223b8883ea009d	https://github.com/servo/servo/pull/30508	Replace script_plugins with a clippy like rustc driver (named crown) (#30508)
    20a73721de2f1a8a0b29905617783148bd3cfaff	https://github.com/servo/servo/pull/30806	Remove a comment that is no longer valid (#30806)
+++ cdbd60fe53f64f08efcf9715c4655e38cd1d7ddd	https://github.com/servo/servo/pull/30800	Extend character-based soft wrap prevention to before atomics (#30800)
&gt;&gt;&gt; 2023-12-03T05:57:33Z
&gt;&gt;&gt; 2023-12-04T06:02:05Z
&gt;&gt;&gt; 2023-12-11T05:28:33Z
&gt;&gt;&gt; 2023-12-12T06:15:50Z
&gt;&gt;&gt; 2023-12-13T06:06:44Z
+++ 17f3c45d4ff597dc1e179d89784bb5f57b4c03d7	https://github.com/servo/servo/pull/30767	Add initial support for offscreen rendering (#30767)
+++ 97e6c72f5767e1cd754c82317a21aa222c5d968b	https://github.com/servo/servo/pull/30840	Add multiview feature flag in compositing and constellation (#30840)
+++ 8a226fdb1975ae1df8d1a673eb3dca9f2bb771aa	https://github.com/servo/servo/pull/30841	constellation: notify embedder when events are hit-tested to browsers (#30841)
    676c170b07551deabb9947f1f7ce6e0d1ec50974	https://github.com/servo/servo/pull/30865	Fix libsimpleservo build on Linux and BSD (#30865)
&gt;&gt;&gt; 2023-12-14T06:16:19Z
    5e8f70fc2f71e2f4680c6adef2b005bd637c7e2e	https://github.com/servo/servo/pull/30872	build(deps): bump crossbeam-channel from 0.5.8 to 0.5.9 (#30872)
    01013b9ea8b3c5527a01e093a2c3b5b938c91186	https://github.com/servo/servo/pull/30871	Re-enable minification to fix the doc build (#30871)
    7ed6f330cf948b3fb4ad454fd95af00cc00e42c9	https://github.com/servo/servo/pull/30874	build(deps): bump crossbeam-utils from 0.8.16 to 0.8.17 (#30874)
    95dae276ccd130a5d7d0fbe35298f3853e5d1552	https://github.com/servo/servo/pull/30873	build(deps): bump syn from 2.0.40 to 2.0.41 (#30873)
    2fcbcb4b55b9ae7b518e78e6ea0f8828c0f76d70	https://github.com/servo/servo/pull/30867	Fix two more warnings in WebRender (#30867)
&gt;&gt;&gt; 2023-12-27T06:06:58Z
    205d52a0c912a8418cbaf70bb82af3e182decc1d	https://github.com/servo/servo/pull/30948	Update h2 and servo-tidy.toml (#30948)
    e629ddb56df3d0a7331e060a41c86b44602e3a1b	https://github.com/servo/servo/pull/30947	build(deps): bump thiserror from 1.0.51 to 1.0.52 (#30947)
    29febb1b7bf5c88633527800ce036f403b7ef389	https://github.com/servo/servo/pull/30945	build(deps): bump futures-channel from 0.3.29 to 0.3.30 (#30945)
    3cf26dadcaac7406dba1482a71159e8e19119999	https://github.com/servo/servo/pull/30944	build(deps): bump futures-util from 0.3.29 to 0.3.30 (#30944)
    21f0c1637d086cdf57f7c7e0ef5454af753bd35d	https://github.com/servo/servo/pull/30943	build(deps): bump crossbeam-epoch from 0.9.10 to 0.9.17 (#30943)
    f272770f6ca4488a5afe8cab734ac3c8611f858d	https://github.com/servo/servo/pull/30942	build(deps): bump lyon_geom from 1.0.4 to 1.0.5 (#30942)
    85a5c18ab01d639bfd426fd18db9a03e27c6b5f6	https://github.com/servo/servo/pull/30939	De-dupe ahash (#30939)
    8d121a0a1d248bba29c6fb52624e9fef84b0ce89	https://github.com/servo/servo/pull/30940	Update requirements.txt (#30940)
    cad3ca2512e3e7e1a3a527e771bb2ff88f4cd47a	https://github.com/servo/servo/pull/30938	Sync WPT with upstream (25-12-2023) (#30938)
    d58fc0d674a2d41e57df79c52051c121d2e2864b	https://github.com/servo/servo/pull/30937	build(deps): bump futures-core from 0.3.29 to 0.3.30 (#30937)
    bfa3f8aede4f61a44fa718963022fe572e5cb319	https://github.com/servo/servo/pull/30933	build(deps): bump indexmap from 1.9.3 to 2.1.0 (#30933)
    4214462e5a802710773a94f485aa7d000c183360	https://github.com/servo/servo/pull/30935	build(deps): bump crossbeam-channel from 0.5.9 to 0.5.10 (#30935)
    66c17af150e5021edcda54dac6ad398179464d25	https://github.com/servo/servo/pull/30934	build(deps): bump futures-io from 0.3.29 to 0.3.30 (#30934)
    ee8df0f3a5e167604457e277e659421f45c782de	https://github.com/servo/servo/pull/30932	build(deps): bump crossbeam-utils from 0.8.17 to 0.8.18 (#30932)
    3aebbd41eb703a80ccf4c67dfee45c218647b5f2	https://github.com/servo/servo/pull/30931	build(deps): bump futures-sink from 0.3.29 to 0.3.30 (#30931)
    734accdbd21d17f609a6b67a8d906ce87fa8cc95	https://github.com/servo/servo/pull/30930	build(deps): bump syn from 2.0.42 to 2.0.43 (#30930)
    6d37c8789e72fffbb49913c05f60fcf9d3c4d915	https://github.com/servo/servo/pull/30929	build(deps): bump futures-task from 0.3.29 to 0.3.30 (#30929)
    1d2b77ea8b2fb4356a0a9cd39fc7aa6d56d41d90	https://github.com/servo/servo/pull/30928	build(deps): bump object from 0.32.1 to 0.32.2 (#30928)
+++ 7973cb64586d94a6987562fe6f180ac29ef0e971	https://github.com/servo/servo/pull/30926	Update wgpu to 0.18.1 (#30926)
    3ce590bec4f281ab68a817ce2d9872234a66ddf6	https://github.com/servo/servo/pull/30925	Fix wpt-sync-from-upstream boolean (#30925)
    554b35b7050523e9cd668d7fbdaa6abbf8bc7746	https://github.com/servo/servo/pull/30919	Improve formatting of Python files (#30919)
    df157dcc0389138a93c2c0e748b00995ac7d1bc4	https://github.com/servo/servo/pull/30923	dependencies: Update to latest version of `unwind-sys` (#30923)
    1e540e69ae074a1e8378f8ffc2a4fd89ff0ab484	https://github.com/servo/servo/pull/30921	Update mozjs to use ESR115.7 (#30921)
    6486efeeb27de3e197566e2dff6f136a751dbb2c	https://github.com/servo/servo/pull/30917	build(deps): bump proc-macro2 from 1.0.70 to 1.0.71 (#30917)
+++ 1f0f50b22bb43e965febf31f5a436113f2958725	https://github.com/servo/servo/pull/30912	Customizable wpt options and profile in workflows (#30912)
+++ 81f5157522ae320068515571a371aa3b72de0cfa	https://github.com/servo/servo/pull/30868	Add support for table fixups (#30868)
+++ 709d00583fb28fb668f10eab1f2f16f07c331078	https://github.com/servo/servo/pull/30866	layout: Make all word separators justification opportunities (#30866)
    8e31daeb6ba01c9af13b71280a002dc70a13ef0a	https://github.com/servo/servo/pull/30908	build(deps): bump syn from 2.0.41 to 2.0.42 (#30908)
    d296f0c5bea13dc109842a3fabd60e91b881fe2b	https://github.com/servo/servo/pull/30907	Fix flake8 config (#30907)
    8c257298c5f6ce75ef2617277a407c92541a1c9d	https://github.com/servo/servo/pull/30909	build(deps): bump anyhow from 1.0.75 to 1.0.76 (#30909)
    f2882879d8d345c62d8d1d076485af6280e54dde	https://github.com/servo/servo/pull/30903	Fix the try build when pushing to branches (#30903)
+++ 74798c4b7bf173fc99b96e219c6c2cab136d5c4c	https://github.com/servo/servo/pull/30905	layout: Add support for `text-align-last` (#30905)
    d007d265bd5449d6c8e5abd18f946b79ca9f31f7	https://github.com/servo/servo/pull/30906	Fix the unwind-sys build on latest Fedora (#30906)
+++ a9bf29cf8aede9771a16922c98cc933ce84b2ccc	https://github.com/servo/servo/pull/30897	Fix crash caused by arithmetic underflow in layout2020 (#30897)
+++ abb017b8543efea54b732efa2846b25c949985c9	https://github.com/servo/servo/pull/30898	script: Allow moving back to non-quirks mode (#30898)
    c8cfab2518937a1e2c1c62a7378bea4b8b06be6e	https://github.com/servo/servo/pull/30901	build(deps): bump tokio from 1.35.0 to 1.35.1 (#30901)
    6f09da1463a2a93f14a9cd941291e431fae587f8	https://github.com/servo/servo/pull/30900	build(deps): bump pkg-config from 0.3.27 to 0.3.28 (#30900)
    0989ffbf26872449fcb1d9c83cb2f99061831126	https://github.com/servo/servo/pull/30899	build(deps): bump profiling from 1.0.12 to 1.0.13 (#30899)
+++ 256ab5353b9145dbda103ec48cf4d10f32f6912a	https://github.com/servo/servo/pull/30888	These changes fix #30843 (#30888) Fix a crash in WebGPU when WebGPU is disabled
    8bbcf0abafc22cd840cd03f36b5b3b7d2d815493	https://github.com/servo/servo/pull/30884	build(deps): bump hyper from 0.14.27 to 0.14.28 (#30884)
    b156cd5ca219b4fb555ee4ea11cb96b796848d5b	https://github.com/servo/servo/pull/30883	build(deps): bump home from 0.5.5 to 0.5.9 (#30883)
    a7d5fc4db19aaf9dc28f7e617dd231906c759106	https://github.com/servo/servo/pull/30882	build(deps): bump thiserror from 1.0.50 to 1.0.51 (#30882)
    5c8fc7309d54ae2ffb4fd1eed122d411d454b13c	https://github.com/servo/servo/pull/30879	Update web-platform-tests to revision b&#39;a85f0dfe538b9cb894388a65dba7a2a21db050c7&#39; (#30879)
+++ e4aed3d06a8a1ef6e7af142f02be95ce2a3065cb	https://github.com/servo/servo/pull/30877	Update branch name to main (#30877)
+++ ccf0b739dfca312a65002c443fb09537aa27225b	https://github.com/servo/servo/pull/30807	Add basic support for `text-align: justify` (#30807)
    0be30b30ceecbde34cc03c30e44536a5d3f8b7a9	https://github.com/servo/servo/pull/30870	Fix the WPT exporter (#30870)
    29eb4878ed12d073e6fb805184b2f747ddfc9841	https://github.com/servo/servo/pull/30859	build(deps): bump tokio from 1.34.0 to 1.35.0 (#30859)
+++ 569c4a8823369678870e1b5f50a2c484d32fb687	https://github.com/servo/servo/pull/30803	Integrate hyper_serde into Servo source (#30803)
&gt;&gt;&gt; 2023-12-28T06:04:45Z
    7305c59304a776dfcb197f91c02b1d28fe8a29ff	https://github.com/servo/servo/pull/30951	build(deps): bump futures-executor from 0.3.29 to 0.3.30 (#30951)
    4c47f7f723d3f60eb53fc5fe161338d48f559942	https://github.com/servo/servo/pull/30950	build(deps): bump serde_bytes from 0.11.12 to 0.11.13 (#30950)
    b51908d1785dac1035a0db395ba4220a042920e7	https://github.com/servo/servo/pull/30949	build(deps): bump anyhow from 1.0.76 to 1.0.77 (#30949)
    574445c27a6975213900d9c05e81cd89f7f6e2ed	https://github.com/servo/servo/pull/30946	build(deps): bump fdeflate from 0.3.1 to 0.3.2 (#30946)
&gt;&gt;&gt; 2023-12-29T06:03:36Z
    f77554bfa37ad9db085619363f769192b8141ea3	https://github.com/servo/servo/pull/30956	build(deps): bump tempfile from 3.8.1 to 3.9.0 (#30956)
+++ e79171ec01199ba7100c0ad90576a6ec5705d80c	https://github.com/servo/servo/pull/30954	Update WebGPU CTS (#30954)
    90a25ab2e1344e13bf58c0dcab3ce5e9b58f3572	https://github.com/servo/servo/pull/30955	build(deps): bump fdeflate from 0.3.2 to 0.3.3 (#30955)
    bd052f536e92c6acdd7a2902af9896e3221139c1	https://github.com/servo/servo/pull/30924	bhm: Fix a warning in the Linux sampler (#30924)
&gt;&gt;&gt; 2023-12-30T06:12:29Z
    ae1421a5156205ce339407c6862fa247e373a2e9	https://github.com/servo/servo/pull/30957	Update mozjs (#30957)  Move rust-mozjs&#39;s build script to mozjs-sys #409 
    be1a0a0b2b871c3d72536ee1eea5521c6214d637	https://github.com/servo/servo/pull/30958	fix: add a missing dot in HACKING_QUICKSTART.md (#30958)
&gt;&gt;&gt; 2023-12-31T06:14:24Z
    f08ba0f6fff3cde89d326316b33c86a880b46739	https://github.com/servo/servo/pull/30959	build(deps): bump memchr from 2.6.4 to 2.7.1 (#30959)
&gt;&gt;&gt; 2024-01-01T06:08:41Z
&gt;&gt;&gt; 2024-01-02T06:15:51Z
    f58541e65263daf60d3f5c3f8ad075b09d25223b	https://github.com/servo/servo/pull/30962	Sync WPT with upstream (01-01-2024) (#30962)
+++ 7964a4f582d5697e0ea55203dd4ec25d69dbed97	https://github.com/servo/servo/pull/30963	Unfork and upgrade jemallocator (#30963)
    d8e1e0e07ca0828e200af9f47a7e120ccdcd945c	https://github.com/servo/servo/pull/30967	build(deps): bump clang-sys from 1.3.1 to 1.7.0 (#30967)
    f51c7847fb88c55f39b67edb7e95a98d48361420	https://github.com/servo/servo/pull/30969	build(deps): bump serde_json from 1.0.108 to 1.0.109 (#30969)
    634c3fb1bd671582d664d38d89259920d88b2232	https://github.com/servo/servo/pull/30965	build(deps): bump anyhow from 1.0.77 to 1.0.78 (#30965)
    eb06c00c201cefd1116651debb2252d430f6eb0a	https://github.com/servo/servo/pull/30964	build(deps): bump thiserror from 1.0.52 to 1.0.53 (#30964)
&gt;&gt;&gt; 2024-01-03T06:11:55Z
    230e00c31350095b078f195152c4c37bf57900bd	https://github.com/servo/servo/pull/30983	build(deps): bump serde from 1.0.193 to 1.0.194 (#30983)
    3274c812e5f87ae544aeba2d5b2b9f0f5f16e52a	https://github.com/servo/servo/pull/30978	build(deps): bump iana-time-zone from 0.1.58 to 0.1.59 (#30978)
    8916ae73ccf9111df7e9788ab17414870cbe8989	https://github.com/servo/servo/pull/30982	build(deps): bump anyhow from 1.0.78 to 1.0.79 (#30982)
    d2b4439dec428c819712a7260950bcdf13617b0a	https://github.com/servo/servo/pull/30980	build(deps): bump thiserror from 1.0.53 to 1.0.55 (#30980)
    8faa90450192978b080ff95ba39a64b1b8111ba4	https://github.com/servo/servo/pull/30977	build(deps): bump quote from 1.0.33 to 1.0.35 (#30977)
+++ 3353db71d232ed3e6108950e21a6dba6360e6d57	https://github.com/servo/servo/pull/30975	Fail gracefully when DMG smoketest fails (#30975)
    bbadef3365e0565fca96e9a0c2e2cb014f8d60e8	https://github.com/servo/servo/pull/30976	Remove the servo-gst-plugin (#30976)
    5b0c03801a4a52252ccf0b6add7f8ea76187b0d8	https://github.com/servo/servo/pull/30966	build(deps): bump ahash from 0.8.6 to 0.8.7 (#30966)
    516cc2cbca55a1d1505a494875d0c2022ac314c2	https://github.com/servo/servo/pull/30941	tidy: A few small improvements and fixes (#30941)
&gt;&gt;&gt; 2024-01-04T06:14:15Z
+++ f44ff83c20b82d1f3272d9389563e30f0d3c9700	https://github.com/servo/servo/pull/30989	WebGPU: always send exit message to script before exiting (#30989)
+++ 65cbc95d38819e9b3d5870953015a9e7963a0ace	https://github.com/servo/servo/pull/30927	Replace time with std::time in components/devtools (#30927)
    d0998a771ae773509104e1fcfbe23d4a69f7aa90	https://github.com/servo/servo/pull/30995	build(deps): bump thiserror from 1.0.55 to 1.0.56 (#30995)
    e306f69f64396ec84f00acf56536439ef23b02ff	https://github.com/servo/servo/pull/30994	build(deps): bump serde_bytes from 0.11.13 to 0.11.14 (#30994)
    06fedebe1160e7f0e46e70a0cce3ac6f6ada018c	https://github.com/servo/servo/pull/30993	build(deps): bump serde_json from 1.0.109 to 1.0.110 (#30993)
    6695dba5927ba879f1f8b3c398e139bcedb76e13	https://github.com/servo/servo/pull/30992	build(deps): bump semver from 1.0.20 to 1.0.21 (#30992)
    a7e97af9f2c3ae04fc9336fc71ff6e779a23eac8	https://github.com/servo/servo/pull/30991	build(deps): bump prettyplease from 0.2.15 to 0.2.16 (#30991)
    94d76b29468d6468068a3d99eab7ddc14a5f7bb4	https://github.com/servo/servo/pull/30960	docs(style): update outdated `stylo` project name and link (#30960)
    7580aa2fc2d779df979578d688e47986461c03d4	https://github.com/servo/servo/pull/30985	Update futures (#30985)
    51c91d2881689537ace800f87482f47b30c62956	https://github.com/servo/servo/pull/30988	bootstrap: Don&#39;t try to install Windows Python with `./mach bootstrap` (#30988)
+++ 0dbba9b6ffe0507011337c27c2709f6c4cebe1c0	https://github.com/servo/servo/pull/30973	Download Windows GStreamer dependencies from GitHub (#30973)
&gt;&gt;&gt; 2024-01-05T06:16:06Z
+++ c219204084b8f8a747ebd37ec75472c1b7e97411	https://github.com/servo/servo/pull/30987	Fix crown on NixOS (#30987)
    21d9c2cc637842118adc5af682422e3df994710b	https://github.com/servo/servo/pull/31004	build(deps): bump proc-macro2 from 1.0.74 to 1.0.75 (#31004)
+++ 90a9300f698aa266db47b336f3fcd7d6680b4d65	https://github.com/servo/servo/pull/30896	Script: ensure child JS runtimes are dropped before parent (#30896)
    2f6f03a3b5ab49368e27988960c78d8f7d5f1190	https://github.com/servo/servo/pull/30996	build(deps): bump windows-core from 0.51.1 to 0.52.0 (#30996)
    a3a2a433877ce9d9b4cf8d04551c145543450333	https://github.com/servo/servo/pull/30998	Remove IRC comment in style.md (#30998)
&gt;&gt;&gt; 2024-01-08T06:07:00Z
+++ 79a0f76d26d43c7f6e38a60fbe2ec6bed1510543	https://github.com/servo/servo/pull/31019	Fix the build on Ubuntu 20.04 (#31019)
    d0ce48db06c121028e723ad3375186ab0fb961da	https://github.com/servo/servo/pull/31015	Fix installation instructions for Python on Debian-like distributions in README (#31015)
    4132bc920b829a82dafae39ff66f2a56c353f46f	https://github.com/servo/servo/pull/31009	build(deps): bump syn from 2.0.46 to 2.0.48 (#31009)
    2cecd1c99e2a28476019256d332672082d5ea66f	https://github.com/servo/servo/pull/31011	build(deps): bump itertools from 0.10.5 to 0.12.0 (#31011)
    d83741d14c98b114ed8b1fd0e795d292467dc76b	https://github.com/servo/servo/pull/31010	build(deps): bump num-rational from 0.4.0 to 0.4.1 (#31010)
+++ 9a1d7aabd71fe82c9420abdc33a6a9ba0f8eac52	https://github.com/servo/servo/pull/31003	bootstrap: Adding more output when installing dependencies (#31003)
    afb0d4c56ed98c4a16fe51d9cf051cc351aba16f	https://github.com/servo/servo/pull/31005	build(deps): bump serde_json from 1.0.110 to 1.0.111 (#31005)
+++ 7fa4ea9740edccc93672d8cc428f6e9d4575a036	https://github.com/servo/servo/pull/30750	Upgrade media / GStreamer / GLib (#30750) 0.15 -&gt; 0.21
&gt;&gt;&gt; 2024-01-09T06:16:45Z
    dd0149d95374593f3c613716284fe584a2324cbb	https://github.com/servo/servo/pull/31029	build(deps): bump serde from 1.0.194 to 1.0.195 (#31029)
    77cf708ca6a01b30db718f6abf4cbfc730c6f604	https://github.com/servo/servo/pull/31027	build(deps): bump winnow from 0.5.31 to 0.5.33 (#31027)
    e2c490aaac581c726f8405f6b6917f5469e6f848	https://github.com/servo/servo/pull/31035	build(deps): bump crossbeam-channel from 0.5.10 to 0.5.11 (#31035)
    15d6c39ba6bd6191d5688b8f02e0af32827fc753	https://github.com/servo/servo/pull/31031	build(deps): bump libz-sys from 1.1.12 to 1.1.13 (#31031)
    a78bb04c1a5ec5d655bad3f8c2c7d80c4b09c520	https://github.com/servo/servo/pull/31032	build(deps): bump base64 from 0.21.5 to 0.21.6 (#31032)
    ea4bf488912a7f13a6f960e71dd247e6ec3e25d5	https://github.com/servo/servo/pull/31034	build(deps): bump proc-macro2 from 1.0.75 to 1.0.76 (#31034)
    9278c28863ce20d3c7dd11323d9bbdab122718f3	https://github.com/servo/servo/pull/31033	build(deps): bump crossbeam-utils from 0.8.18 to 0.8.19 (#31033)
    cfa955778df17caf36dbb0a0216f2a3b392703d0	https://github.com/servo/servo/pull/31030	build(deps): bump crossbeam-epoch from 0.9.17 to 0.9.18 (#31030)
    65c44dea37fbfe743aa8d8adc1de97fe59158bc2	https://github.com/servo/servo/pull/31008	build(deps): bump cpufeatures from 0.2.11 to 0.2.12 (#31008)
+++ aa073c3dcaffe30c7a6e272ba4ef5121c090f1bf	https://github.com/servo/servo/pull/30902	layout: Implement support for `line-height` and `vertical-align` (#30902)
    527119aebb4e0c05e3ba17c5ba2e2741d51489a9	https://github.com/servo/servo/pull/31018	Sync WPT with upstream (07-01-2024) (#31018)
&gt;&gt;&gt; 2024-01-10T06:16:53Z
    bfa853a1cc305048d99a6eba5201ac86e8fbb1c1	https://github.com/servo/servo/pull/31044	build(deps): bump libc from 0.2.151 to 0.2.152 (#31044)
    81c665e392182ad0ab61243d180d7448000992bc	https://github.com/servo/servo/pull/31043	build(deps): bump crossbeam-deque from 0.8.1 to 0.8.5 (#31043)
    91ef26b203ae99cff0a6f46fefd4c783a9132af5	https://github.com/servo/servo/pull/31040	build(deps): bump getrandom from 0.2.11 to 0.2.12 (#31040)
    1150a2c33fc9793dfd55f3f7ba6019d311589c9d	https://github.com/servo/servo/pull/31041	build(deps): bump libz-sys from 1.1.13 to 1.1.14 (#31041)
    54dd8becc1d5684f19c1e4b6f6b9c5a2c43c2ebe	https://github.com/servo/servo/pull/31038	build: Combine and simplify GStreamer shared object lists (#31038)
+++ 94a3c49a807626ecddb7f062e6856e9e0d66baca	https://github.com/servo/servo/pull/31001	Allow building with Nix on Linux distros other than NixOS (#31001)
+++ 6a804cd775e3976103269ac54ae997a3accc8618	https://github.com/servo/servo/pull/30974	Integrate the `devices` respository (#30974)
+++ fddc4a430fca591152c69f0793ab946dcdc81617	https://github.com/servo/servo/pull/31002	Fix failed request for adapter when not available (#31002)
&gt;&gt;&gt; 2024-01-11T06:08:02Z
+++ 92196d985dceb0ca708b097e2a847b255d8387c8	https://github.com/servo/servo/pull/31020	Replace time with std::time in components/metrics &amp; components/shared (#31020)
    e3e0d8f2c41e5d3b7ec46c851a9754fe4e486dae	https://github.com/servo/servo/pull/31058	build(deps): bump termcolor from 1.4.0 to 1.4.1 (#31058)
    81d4236c8c66cbb86685c4acc115a08671bd1d1c	https://github.com/servo/servo/pull/31057	fixed commented time in nightly-rust.yml (#31057)
+++ 17ffbbdd11b47d577bdfe4318c36bcb5de365b18	https://github.com/servo/servo/pull/31052	Nix: bump nixpkgs to nixos-23.05 (except gnumake) (#31052)
    355567186400d0531657d0eedda7625de9d0e93a	https://github.com/servo/servo/pull/31039	layout: Split `LineItem` layout into a new file (#31039)
&gt;&gt;&gt; 2024-01-12T06:07:36Z
    6dc208bb09bc85b8f08118fd91c6848ca29c6d16	https://github.com/servo/servo/pull/31068	build(deps): bump h2 from 0.3.22 to 0.3.23 (#31068)
    24a18a985e54ced34d9e7fc08debdc0a955bba2b	https://github.com/servo/servo/pull/31066	build(deps): bump winnow from 0.5.33 to 0.5.34 (#31066)
+++ e145c512347807cdf44537fdfa83f2a5dda05b5a	https://github.com/servo/servo/pull/30990	WebIDL: use FLoat32Array  (#30990)
+++ 90f70e3408e1d4b3f378e50f9f051cb00c77c446	https://github.com/servo/servo/pull/31063	Fix underflow in PerformanceResourceTiming API (#31063)
+++ 1f1cf1499d1e249c58fb3ac8986e62cf0d796497	https://github.com/servo/servo/pull/31055	Nix: bump nixpkgs to nixos-unstable (#31055)
&gt;&gt;&gt; 2024-01-13T06:04:19Z
    efe4071a5b97f7b5bc460bf99c26823bbf0d918f	https://github.com/servo/servo/pull/31082	build(deps): bump js-sys from 0.3.66 to 0.3.67 (#31082)
    fdd9263cae673a3a6d06630a56515a7e398d163a	https://github.com/servo/servo/pull/31081	build(deps): bump vergen from 8.2.6 to 8.2.7 (#31081)
    3efaaa1514947191c563aef6a6ef6a99d80a297b	https://github.com/servo/servo/pull/31080	build(deps): bump wasm-bindgen from 0.2.89 to 0.2.90 (#31080)
+++ abb54f7832682bad1545b307a545a7ba977ef209	https://github.com/servo/servo/pull/31075	build: Don&#39;t add the `neon` feature for arm and aarch64 (#31075)
    b61c794ae43da74b6038055295bbf8f7eb877b28	https://github.com/servo/servo/pull/31073	fix conditional logic that enables native bluetooth (#31073)
&gt;&gt;&gt; 2024-01-14T06:05:53Z
    e7d2d23e1eb3aca4d69666ea21682188a9be1e35	https://github.com/servo/servo/pull/31085	Update web-platform-tests to revision b&#39;5049a31d2a7eebd7bca08317e56664021a8bd36c&#39; (#31085)
&gt;&gt;&gt; 2024-01-15T06:10:05Z
&gt;&gt;&gt; 2024-01-16T06:18:19Z
    4248168f38bdb24114e42fe5835a377043349428	https://github.com/servo/servo/pull/31096	build(deps): bump jpeg-decoder from 0.3.0 to 0.3.1 (#31096)
    214a423dc2cb80a50c13676aec7e527e6ceb0fd6	https://github.com/servo/servo/pull/31103	build(deps): bump freetype from 0.7.0 to 0.7.1 (#31103)
    cf2fd238246261d882773af74dac8d9b0cdd31b4	https://github.com/servo/servo/pull/31102	build(deps): bump rustix from 0.38.28 to 0.38.30 (#31102)
    3e00979ce734f258697847a36930a52b19d8c294	https://github.com/servo/servo/pull/31101	build(deps): bump web-sys from 0.3.66 to 0.3.67 (#31101)
    d5ae4e6d36ce3d2ee91bdca8fcfd769f317c7f6d	https://github.com/servo/servo/pull/31099	build(deps): bump png from 0.17.10 to 0.17.11 (#31099)
    a75eec6fe41253f1bcf8c7770d1ed91c43635451	https://github.com/servo/servo/pull/31100	build(deps): bump vergen from 8.2.7 to 8.2.10 (#31100)
    4c371986f701ea15b9fdb8b83ddec5a59cced973	https://github.com/servo/servo/pull/31097	build(deps): bump image from 0.24.7 to 0.24.8 (#31097)
    33b9e7e77a4e18d59bb6c1a24882d9e7d3b0a4c1	https://github.com/servo/servo/pull/31094	build(deps): bump tiff from 0.9.0 to 0.9.1 (#31094)
    1b847c3166d17a957f5ab5e4aae3a3fcb10d875c	https://github.com/servo/servo/pull/31083	layout: Switch `IndependentLayout` to use `Au` instead of `Length` (#31083)
+++ efa38c67fe6bdec751739bb3a0a6d159f2b695c8	https://github.com/servo/servo/pull/31091	ci: Remove the nightly-rust workflow (#31091)
    25a9f4560ec0270c5f5b4794c30be85b3ca12ef3	https://github.com/servo/servo/pull/31026	bootstrap: Improve pip dependency resolution (#31026)
    5d94fc6b708e3ab172802dbc1825ca9b427335ac	https://github.com/servo/servo/pull/31067	build(deps): bump base64 from 0.21.6 to 0.21.7 (#31067)
+++ 0d240b8713fb5cd933d348e668ab02a53859282b	https://github.com/servo/servo/pull/31088	deps: Raise the Python requirement to 3.10 (#31088)
    3c1ab6545829442d30cc8244074f59c9e857755f	https://github.com/servo/servo/pull/31090	crown: Add a cargo config.toml file (#31090)
    97284ead14d90ca4891f709d220e4d6ee0c2f4c1	https://github.com/servo/servo/pull/31089	Temporarily disable the webaudio tests (#31089)
    ee46f233d9ed02fc25ea9b2c7b2a4e0a829616e0	https://github.com/servo/servo/pull/31071	audiobuffer: ensure dest has the same size as source in copy from channel (#31071)
&gt;&gt;&gt; 2024-01-17T06:09:03Z
    55bf020d8989c732b095b9e330bc55369f11d432	https://github.com/servo/servo/pull/31107	build(deps): bump vergen from 8.2.10 to 8.3.0 (#31107)
+++ 8c53a8c745ab2a5b660d6f170e74b4fecca189c1	https://github.com/servo/servo/pull/31077	use FLoat32Array in XRView (#31077)
+++ 9654363c187ee549b82bca8c4e3098e4c20c7287	https://github.com/servo/servo/pull/30639	script: Start replacing `time` with `std::time` and `chrono`  (#30639)
    c06ae7faf201e539a4cfbaefb6d5b8444796f472	https://github.com/servo/servo/pull/31095	ci: Set LLVM_PATH when building docs (#31095)
    f2b3e497b24da23f480939be1616925fa326721d	https://github.com/servo/servo/pull/31098	build(deps): bump smallvec from 1.11.2 to 1.12.0 (#31098)
&gt;&gt;&gt; 2024-01-18T06:17:19Z
    d9cb4445ff85b687307f93d950eab810dee2c6b0	https://github.com/servo/servo/pull/31113	build(deps): bump fdeflate from 0.3.3 to 0.3.4 (#31113)
    7480f67497464a7664cab37a739299e2a5d50498	https://github.com/servo/servo/pull/31114	build(deps): bump vergen from 8.3.0 to 8.3.1 (#31114)
    831c7fa5e8e1e7975969270320033b9940c70f7d	https://github.com/servo/servo/pull/31112	build(deps): bump bitflags from 2.4.1 to 2.4.2 (#31112)
    746dd0892f6f24f4cde6ff10e9778f3770894834	https://github.com/servo/servo/pull/31111	build(deps): bump pkg-config from 0.3.28 to 0.3.29 (#31111)
    0ab41e977fbfed1012bdf120d7279522b589bc8c	https://github.com/servo/servo/pull/31110	build(deps): bump linux-raw-sys from 0.4.12 to 0.4.13 (#31110)
+++ 580062228bb083ccdc2144a43491bc4f916c57ad	https://github.com/servo/servo/pull/31079	Replace time with std::time in components/net (#31079)
+++ d86e713a9cb5be2555d63bd477d47d440fa8c832	https://github.com/servo/servo/pull/31092	build: Clean up post-build copy of Windows DLLs (#31092)
+++ f76982e2e7f411e2e2fd8e6dbfe92a080acefc54	https://github.com/servo/servo/pull/31087	script: Use FLoat32Array in XRRay (#31087)
    d43adb1a92c419680be86e7335f3de84b75fb2ef	https://github.com/servo/servo/pull/31078	build: Only set PATH for GStreamer (#31078)
+++ 6a7b450478f69d9d83b0936a0ab28ac2d94761d4	https://github.com/servo/servo/pull/31076	use FLoat32Array in XRRigidTransform (#31076)
&gt;&gt;&gt; 2024-01-19T06:05:45Z
    9a698b7bfbb2d8ec72e31d103051edf1f11b3e51	https://github.com/servo/servo/pull/31132	mach: remove the generic &#39;test&#39; command since it only supports two types of tests (#31129) (#31132)
    0c8e74dcecfe02034ee5ea150ee9f5910250c595	https://github.com/servo/servo/pull/31128	mach: Don&#39;t print anything when deps are up-to-date (#31128)
    729f40d1e080ebea5b858c60ee9372dcb2d13d09	https://github.com/servo/servo/pull/31127	Remove the `.hgignore` file (#31127)
    64292cbb97407254bdaca949cf33c29139015a3e	https://github.com/servo/servo/pull/31126	build(deps): bump unicode-bidi from 0.3.14 to 0.3.15 (#31126)
    e8212b5db18a39ed987b26f368880d5c5dfaf184	https://github.com/servo/servo/pull/31125	build(deps): bump h2 from 0.3.23 to 0.3.24 (#31125)
    8ffa567cfa3c239dfb374986f5bf3a85f790cbc1	https://github.com/servo/servo/pull/31122	build(deps): bump rayon-core from 1.12.0 to 1.12.1 (#31122)
    fdfeb3ed4425c3ac659bea8e2fc5535cb3b9488d	https://github.com/servo/servo/pull/31115	wpt: Create a base class for Servo process executors (#31115)
    c641c589e5f18e461887bdb67528425fe683715d	https://github.com/servo/servo/pull/31119	build: Use `--keep-going` in `./mach doc` (#31119)
+++ 8e5f28839cde6b9ee5cd7cb4f8c27ff0ae10a86c	https://github.com/servo/servo/pull/31120	Revert &quot;Replace time with std::time in components/net (#31079)&quot; (#31120)
    c3fd27c225e66fc00611bcd35f462077dfcf21d1	https://github.com/servo/servo/pull/31118	ci: Fix WPT try layout configuration (#31118)
&gt;&gt;&gt; 2024-01-20T06:04:40Z
    f93aefdb7359e1ac6cad99133262b9909b6908b9	https://github.com/servo/servo/pull/31139	build(deps): bump smallvec from 1.12.0 to 1.13.0 (#31139)
    87e88eecf246b5ee43a47870855ddb1be263fa00	https://github.com/servo/servo/pull/31138	build(deps): bump uuid from 1.6.1 to 1.7.0 (#31138)
    957016f83cca3ad8815b5476ce9ff34a36d1cefa	https://github.com/servo/servo/pull/31140	build(deps): bump rayon from 1.8.0 to 1.8.1 (#31140)
    a8b34e88ca9ab4d0707fdf7ff3e30a508c8f54fe	https://github.com/servo/servo/pull/31117	layout: Convert all inline iteration to a new `foreach` function (#31117)
+++ fc31e69f79a68408fdd376a52942587a8fca9170	https://github.com/servo/servo/pull/31121	layout: Add *very* basic support for table layout (#31121)
+++ 3d520f266800e0035c429ddf2a3b45922f502ebd	https://github.com/servo/servo/pull/30894	Use App units in flow layout (#30894)
+++ 734eb469549db22b070d86bb13a8bd167d5d1e8e	https://github.com/servo/servo/pull/31131	wpt: Unskip the `css-tables suite (#31131)
+++ 9d2c102fa0cc034b2bde51d27cd6c0e7f3cafa30	https://github.com/servo/servo/pull/31106	Use FLoat32Array in GamepadPose (#31106)
&gt;&gt;&gt; 2024-01-21T06:06:07Z
&gt;&gt;&gt; 2024-01-22T06:08:36Z
    8dcf3dd0b0fee0658fea43645db266be32eb2c11	https://github.com/servo/servo/pull/31143	Fix trivial typo in variable name (#31143)
    23a4a750beb89ef8e79bafc75f7a86a9e88971e1	https://github.com/servo/servo/pull/31144	Update web-platform-tests to revision b&#39;a10b8c0164b4c4521040898ee9394738aca488b0&#39; (#31144)
&gt;&gt;&gt; 2024-01-23T06:22:19Z
    33500ed05fddd8d2985815b61d0f61b237b98b57	https://github.com/servo/servo/pull/31158	build(deps): bump regex from 1.10.2 to 1.10.3 (#31158)
    768e27344fc9e4b97ebd510256d129cfb50385e0	https://github.com/servo/servo/pull/31159	build(deps): bump smallvec from 1.13.0 to 1.13.1 (#31159)
    ebe741724f7d09e6df59a4afdbaf90ed50446e31	https://github.com/servo/servo/pull/31157	build(deps): bump env_logger from 0.10.1 to 0.10.2 (#31157)
    92453fa1b4b91b166a552e8bc993ef688585075d	https://github.com/servo/servo/pull/31155	build(deps): bump proc-macro2 from 1.0.76 to 1.0.78 (#31155)
    24a669a278cc3e5c8d6c5cd27ba2364b0c0d1919	https://github.com/servo/servo/pull/31154	build(deps): bump regex-automata from 0.4.3 to 0.4.4 (#31154)
    504fbc35a50657d89e1ff49a5b768dc2ffbc3cdd	https://github.com/servo/servo/pull/31153	build(deps): bump weezl from 0.1.7 to 0.1.8 (#31153)
    adea6248f745b65630c7cc9d3519312d93d9f143	https://github.com/servo/servo/pull/31151	build(deps): bump is-terminal from 0.4.9 to 0.4.10 (#31151)
    5c1723c9833c133e1af641533293e63d8723f8d3	https://github.com/servo/servo/pull/31147	rustdoc: Fix many rustdoc errors (#31147)
+++ d7de206dbd459e8c8bf121f73755d12569c6cc55	https://github.com/servo/servo/pull/31086	Preliminary Android build support (#31086)
    8e6bdb69b1b5110ac7fce5801d8ee3e9fd7c6354	https://github.com/servo/servo/pull/31137	Layout: Clean up `Au` conversion helper functions in the flexbox  (#31137)
&gt;&gt;&gt; 2024-01-24T06:17:36Z
    6baaa828261af49e790938666ee89f156a736821	https://github.com/servo/servo/pull/31162	build(deps): bump chrono from 0.4.31 to 0.4.32 (#31162)
+++ 5d7e2a823985a8314b10dc363eb191c0d4330424	https://github.com/servo/servo/pull/31123	Implement Event.composedPath (#31123)
+++ 54fb381a0a4c070bac75e9f602bf905fa101194d	https://github.com/servo/servo/pull/31133	layout: Convert layout internal display to inline for replaced elements (#31133)
    890588945d2f0b9ad28d024d5a1ba2fb85542637	https://github.com/servo/servo/pull/31145	Use Uint8Array for TextEncoder (#31145)
+++ 7de0486e2e67a17e4cdcc881c7f3bd3fd1a66fb6	https://github.com/servo/servo/pull/31161	layout: Count word separators as justification opportunities when trimming whitespace (#31161)
    1d67aa44ca13cb3bcccc96b34fc2d86272e33f71	https://github.com/servo/servo/pull/31152	build(deps): bump webxr from `21d9e38` to `3b2f303` (#31152)
+++ dc2df7b02767004f0900055d985ecfc6cd874c9a	https://github.com/servo/servo/pull/31148	build: Add support for Visual Studio 2022 and VC143 DLLs (#31148)
+++ 45af1198aa05882d6433642c45d1cd329f145782	https://github.com/servo/servo/pull/31135	Layout: use `Au` in `ContentSizes`  (#31135)
    bd25c07b22cdd20566f5373c6e458c5e2fc51d80	https://github.com/servo/servo/pull/31156	build(deps): bump shlex from 1.2.0 to 1.3.0 (#31156)
    cf5d9c7a28a11e6780b0dc69e9d8dc562cc724f6	https://github.com/servo/servo/pull/31150	ci: fix reference to android job filename in main.yml (#31150)
&gt;&gt;&gt; 2024-01-25T06:07:31Z
    af6652fc098fee10cdf4d2ad67648e7d813f1ec8	https://github.com/servo/servo/pull/31163	tests: Add GStreamer library directory to DYLD_LIBRARY_PATH (#31163)
+++ eb95703325aeb48d5f56a8da5b258bad608dd632	https://github.com/servo/servo/pull/30842	constellation: focusing and closing webviews (#30842)
--&gt;
&lt;style&gt;
    /* guaranteed minimum width for first paragraph after a float */
    ._floatmin {
        display: block;
        width: 13em;
        overflow: hidden;
    }
    ._none {
        display: none;
    }
    ._fig:not(#specificity) {
        width: 33em;
        max-width: 100%;
        margin: 1em auto;
    }
    ._fig &gt; ._flex {
        display: flex;
    }
    ._fig._min {
        width: min-content;
    }
    ._fig table {
        text-align: initial;
    }
    ._fig figcaption._notes {
        text-align: left;
        width: max-content;
        max-width: 100%;
    }
    ._figl:not(#specificity),
    ._figr:not(#specificity) {
        margin: 0 1em 1em;
    }
    ._figl {
        float: left;
    }
    ._figr {
        float: right;
    }
    .figl &gt; iframe,
    .figr &gt; iframe,
    .figl &gt; a &gt; img,
    .figr &gt; a &gt; img {
        width: 17em;
        max-width: max-content;
    }
    ._runin {
        margin-bottom: 1em;
    }
    ._runin &gt; p,
    ._runin &gt; h2 {
        display: inline;
    }
    #_color_mix_demo {
        margin: 0 auto;
        display: block;
        height: min(calc(100vh - 9em), 400px);
        width: min(100%, 33em);
    }
    ._correction {
        max-width: 33em;
        margin: 1em auto;
        border-bottom: 1px solid;
        padding-bottom: 1em;
    }
&lt;/style&gt;
</content>
  </entry>
  <entry>
    <title>Tauri update: embedding prototype, offscreen rendering, multiple webviews, and more!</title>
    <link href="https://servo.org/blog-january-2024/blog/2024/01/19/embedding-update/"/>
    <updated>2024-01-19T00:00:00Z</updated>
    <id>https://servo.org/blog-january-2024/blog/2024/01/19/embedding-update/</id>
    <content xml:lang="en" type="html">&lt;p&gt;&lt;a href=&quot;https://servo.org/blog-january-2024/blog/2023/11/30/embedding-floats-color-mix/&quot;&gt;Back in November&lt;/a&gt;, we highlighted our ongoing efforts to make Servo more embeddable, and today we are a few steps closer!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://tauri.app/&quot;&gt;Tauri&lt;/a&gt; is a framework for building desktop apps that combine a web frontend with a Rust backend, and work is already ongoing to expand it to mobile apps and other backend languages.
But unlike say, Electron or React Native, Tauri is both engine-agnostic and frontend-agnostic, allowing you to use any frontend tooling you like and whichever web engine makes the most sense for your users.&lt;/p&gt;
&lt;p&gt;To integrate Servo with Tauri, we need to add &lt;strong&gt;support for Servo in &lt;a href=&quot;https://github.com/tauri-apps/wry&quot;&gt;WRY&lt;/a&gt;&lt;/strong&gt;, the underlying webview library, and the developers of Tauri have created a proof of concept doing exactly that!
While this is definitely not production-ready yet, you can play around with it by checking out the &lt;a href=&quot;https://github.com/tauri-apps/wry/tree/servo-wry-demo&quot;&gt;servo-wry-demo&lt;/a&gt; branch (&lt;a href=&quot;https://github.com/tauri-apps/wry/tree/305220efbe4e8b5813543a7b8f5d8e0a8abb7fbc&quot;&gt;permalink&lt;/a&gt;) and following the README.&lt;/p&gt;
&lt;figure class=&quot;_fig&quot; id=&quot;_wry_demo_fig&quot;&gt;
&lt;iframe src=&quot;https://servo.org/blog-january-2024/img/blog/embedding-2024-01/demo-with-decorations-too.html&quot; id=&quot;_wry_demo&quot;&gt;&lt;/iframe&gt;
&lt;/figure&gt;
&lt;p&gt;While servoshell, &lt;a href=&quot;https://servo.org/blog-january-2024/blog/2023/09/15/upcoming-events-and-new-browser-ui/&quot;&gt;our example browser&lt;/a&gt;, continues to be the “reference” for embedding Servo, this has its limitations in that servoshell’s needs are often simpler than those of a general-purpose embeddable webview.
For example, the “minibrowser” UI needs the ability to reserve space at the top of the window, and hook the presenting of new frames to do extra drawing, but it doesn’t currently need multiple webviews.&lt;/p&gt;
&lt;p&gt;This is where working with the Tauri team has been especially invaluable for Servo — they’ve used their experience integrating with other embeddable webviews to guide changes on the Servo side.
Early changes include making it possible to &lt;strong&gt;position Servo webviews&lt;/strong&gt; anywhere within a native window (&lt;a href=&quot;https://github.com/wusyong&quot;&gt;@wusyong&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30088&quot;&gt;#30088&lt;/a&gt;), and give them &lt;strong&gt;translucent or transparent backgrounds&lt;/strong&gt; (&lt;a href=&quot;https://github.com/wusyong&quot;&gt;@wusyong&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30488&quot;&gt;#30488&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Support for &lt;strong&gt;multiple webviews&lt;/strong&gt; in one window is needed for parity with the other WRY backends.
Servo currently has a fairly pervasive assumption that only one webview is active at a time.
We’ve found almost all of the places where this assumption was made (&lt;a href=&quot;https://github.com/delan&quot;&gt;@delan&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30648&quot;&gt;#30648&lt;/a&gt;), and now we’re breaking those findings into changes that can actually be reviewed and landed (&lt;a href=&quot;https://github.com/delan&quot;&gt;@delan&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30840&quot;&gt;#30840&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30841&quot;&gt;#30841&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30842&quot;&gt;#30842&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Support for &lt;strong&gt;multiple windows&lt;/strong&gt; sounds similar, but it’s a lot harder.
Servo handles user input and drawing with a component known for historical reasons as the “compositor”.
Since the constellation — the heart of Servo — is currently associated with exactly one compositor, and the compositor is currently tightly coupled with the event loop of exactly one window, supporting multiple windows will require some big architectural changes.
&lt;a href=&quot;https://github.com/paulrouget&quot;&gt;@paulrouget&lt;/a&gt;’s extensive research and prior work on making Servo embeddable will prove especially helpful.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Offscreen rendering&lt;/strong&gt; is critical for integrating Servo with apps containing non-Servo components.
For example, you might have a native app that uses Servo for online help or an OAuth flow, or a game that uses Servo for purchases or social features.
We can now draw Servo to an offscreen framebuffer and let the app decide how to present it (&lt;a href=&quot;https://github.com/delan&quot;&gt;@delan&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30767&quot;&gt;#30767&lt;/a&gt;), rather than assuming control of the whole window, and servoshell now uses this ability except when the minibrowser is disabled (&lt;code&gt;--no-minibrowser&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Precompiling &lt;a href=&quot;https://github.com/servo/mozangle&quot;&gt;mozangle&lt;/a&gt;&lt;/strong&gt; and &lt;a href=&quot;https://github.com/servo/mozjs&quot;&gt;&lt;strong&gt;mozjs&lt;/strong&gt;&lt;/a&gt; would improve developer experience by reducing initial build times.
We can now build the C++ parts of mozangle as a dynamic library (.so/.dylib/.dll) on Linux and macOS (&lt;a href=&quot;https://github.com/atbrakhi&quot;&gt;@atbrakhi&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/mozangle/pull/71&quot;&gt;mozangle#71&lt;/a&gt;), though more work is needed to distribute and make use of them.&lt;/p&gt;
&lt;p&gt;We’re exploring two approaches to precompiling mozjs.
The easier approach is to build the C++ parts as a static library (.a/.lib) and cache the generated Rust bindings (&lt;a href=&quot;https://github.com/wusyong&quot;&gt;@wusyong&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/mozjs/issues/439&quot;&gt;mozjs#439&lt;/a&gt;).
Building a dynamic library (&lt;a href=&quot;https://github.com/atbrakhi&quot;&gt;@atbrakhi&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/mozjs/pull/432&quot;&gt;mozjs#432&lt;/a&gt;) will be more difficult, but it should reduce build times even further.&lt;/p&gt;
&lt;p&gt;Many thanks to &lt;a href=&quot;https://nlnet.nl/&quot;&gt;&lt;strong&gt;NLnet&lt;/strong&gt;&lt;/a&gt; for &lt;a href=&quot;https://nlnet.nl/project/Tauri-Servo/&quot;&gt;sponsoring this work&lt;/a&gt;.&lt;/p&gt;
&lt;style&gt;
    /* guaranteed minimum width for first paragraph after a float */
    ._floatmin {
        display: block;
        width: 13em;
        overflow: hidden;
    }
    ._none {
        display: none;
    }
    ._fig:not(#specificity) {
        width: 33em;
        max-width: 100%;
        margin: 1em auto;
    }
    ._fig &gt; ._flex {
        display: flex;
    }
    ._fig._min {
        width: min-content;
    }
    ._fig table {
        text-align: initial;
    }
    ._fig figcaption._notes {
        text-align: left;
        width: max-content;
        max-width: 100%;
    }
    ._figl:not(#specificity),
    ._figr:not(#specificity) {
        margin: 0 1em 1em;
    }
    ._figl {
        float: left;
    }
    ._figr {
        float: right;
    }
    ._figl &gt; iframe,
    ._figr &gt; iframe,
    ._figl &gt; a &gt; img,
    ._figr &gt; a &gt; img {
        width: 17em;
        max-width: max-content;
    }
    ._figl._default &gt; iframe,
    ._figr._default &gt; iframe,
    ._figl._default &gt; a &gt; img,
    ._figr._default &gt; a &gt; img {
        width: auto;
        max-width: 100%;
    }
    ._runin {
        margin-bottom: 1em;
    }
    ._runin &gt; p,
    ._runin &gt; h2 {
        display: inline;
    }
    ._correction {
        max-width: 33em;
        margin: 1em auto;
        border-bottom: 1px solid;
        padding-bottom: 1em;
    }
    #_wry_demo_fig:not(#specificity) {
        width: 100%;
    }
    #_wry_demo {
        margin: 0 auto;
        display: block;
        height: min(calc(100vh - 9em), 400px);
        width: 100%;
    }
&lt;/style&gt;
</content>
  </entry>
  <entry>
    <title>This year in Servo: over 1000 pull requests and beyond</title>
    <link href="https://servo.org/blog-january-2024/blog/2023/12/18/this-year-in-servo/"/>
    <updated>2023-12-18T00:00:00Z</updated>
    <id>https://servo.org/blog-january-2024/blog/2023/12/18/this-year-in-servo/</id>
    <content xml:lang="en" type="html">&lt;p&gt;Servo is well and truly back.&lt;/p&gt;
&lt;figure class=&quot;_figr _default&quot;&gt;&lt;a href=&quot;https://servo.org/blog-january-2024/img/blog/recap-2023-contributors.png&quot;&gt;&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/recap-2023-contributors.png&quot; alt=&quot;Bar chart: 453 (44%) by Igalia, 195 (19%) by non-Igalia, 389 (37%) by bots&quot; /&gt;&lt;/a&gt;
&lt;figcaption&gt;Contributors to &lt;a href=&quot;https://github.com/servo/servo&quot;&gt;servo/servo&lt;/a&gt; in 2023.&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;&lt;span class=&quot;_floatmin&quot;&gt;&lt;/span&gt;
This year, to date, we’ve had &lt;strong&gt;53 unique contributors&lt;/strong&gt; (+140% over 22 last year), landing &lt;strong&gt;1037 pull requests&lt;/strong&gt; (+382% over 215) and 2485 commits (+375% over 523), and that’s just in &lt;a href=&quot;https://github.com/servo/servo&quot;&gt;our main repo&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;Individual contributors are especially important for the health of the project, and of the pull requests made by humans (rather than our &lt;a href=&quot;https://github.com/servo-wpt-sync&quot;&gt;friendly&lt;/a&gt; &lt;a href=&quot;https://github.com/dependabot&quot;&gt;bots&lt;/a&gt;), 30% were by people outside Igalia, and 18% were by non-reviewers.&lt;/p&gt;
&lt;p&gt;Servo has been featured in &lt;a href=&quot;https://servo.org/blog-january-2024/about/&quot;&gt;six conference talks&lt;/a&gt; this year, including at &lt;a href=&quot;https://www.youtube.com/watch?v=IdHvHoAO5oo&quot;&gt;RustNL&lt;/a&gt;, &lt;a href=&quot;https://www.youtube.com/watch?v=pfk8s5OD99A&quot;&gt;Web Engines Hackfest&lt;/a&gt;, &lt;a href=&quot;https://www.youtube.com/watch?v=J4qedc-0pjs&amp;amp;t=2356s&quot;&gt;LF Europe Member Summit&lt;/a&gt;, &lt;a href=&quot;https://youtu.be/9lkIX5ryZZ4&quot;&gt;Open Source Summit Europe&lt;/a&gt;, &lt;a href=&quot;https://youtu.be/RugzThWcjn4&quot;&gt;GOSIM Workshop&lt;/a&gt;, and &lt;a href=&quot;https://www.youtube.com/watch?v=lx70W83Bxtc&quot;&gt;GOSIM Conference&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Servo now has a usable “minibrowser” UI, now supports offscreen rendering, its experimental WebGPU support (&lt;code&gt;--pref dom.webgpu.enabled&lt;/code&gt;) has been updated, and Servo is now listed on &lt;a href=&quot;https://wpt.fyi/&quot;&gt;wpt.fyi&lt;/a&gt; again (click &lt;span style=&quot;font-variant-caps: all-small-caps;&quot;&gt;Edit&lt;/span&gt; to add Servo).&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://servo.org/blog-january-2024/blog/2023/04/13/layout-2013-vs-2020/&quot;&gt;Our new layout engine&lt;/a&gt; is now proving its strengths, with support for iframes, floats, stacking context improvements, inline layout improvements, margin collapsing, ‘position: sticky’, ‘min-width’ and ‘min-height’, ‘max-width’ and ‘max-height’, ‘align-content’, ‘justify-content’, ‘white-space’, ‘text-indent’, ‘text-align: justify’, &lt;a href=&quot;https://servo.org/blog-january-2024/blog/2023/05/31/adding-support-for-outline-properties/&quot;&gt;‘outline’ and ‘outline-offset’&lt;/a&gt;, and ‘filter: drop-shadow()’.&lt;/p&gt;
&lt;figure class=&quot;_figl _default&quot; style=&quot;clear: both;&quot;&gt;&lt;a href=&quot;https://servo.org/blog-january-2024/img/blog/recap-2023-wpt.png&quot;&gt;&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/recap-2023-wpt.png&quot; alt=&quot;Bar chart: 17% + 64pp in floats, 18% + 55pp in floats-clear, 63% + 15pp in key CSS2 tests, 80% + 14pp in abspos, 34% + 14pp in CSS position module, 67% + 13pp in margin-padding-clear, 49% + 13pp in CSSOM, 51% + 10pp in all CSS tests, 49% + 6pp in all WPT tests&quot; /&gt;&lt;/a&gt;
&lt;figcaption style=&quot;max-width: 25em; margin: 0 auto;&quot;&gt;Pass rates in parts of the &lt;a href=&quot;https://web-platform-tests.org/&quot;&gt;Web Platform Tests&lt;/a&gt; with our new layout engine, showing the improvement we’ve made since the &lt;a href=&quot;https://servo.org/blog-january-2024/blog/2023/07/20/servo-web-platform-tests/&quot;&gt;start of our data&lt;/a&gt; in April 2023.&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;&lt;span class=&quot;_floatmin&quot; style=&quot;clear: right;&quot;&gt;&lt;/span&gt;
&lt;a href=&quot;https://github.com/dbaron/inlines-and-floats&quot;&gt;Floats are notoriously tricky&lt;/a&gt;, to the point we found them &lt;a href=&quot;https://github.com/servo/servo/wiki/Servo-Layout-Engines-Report&quot;&gt;impossible to implement correctly&lt;/a&gt; in our legacy layout engine, but thanks to the move from eager to opportunistic parallelism, they are now supported fairly well.
Whereas legacy layout was only ever able to reach 53.9% in the floats tests and 68.2% in floats-clear, we’re now at &lt;strong&gt;82.2% in floats&lt;/strong&gt; (+28.3pp over legacy) and &lt;strong&gt;73.3% in floats-clear&lt;/strong&gt; (+5.1pp over legacy).&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://acid1.acidtests.org/&quot;&gt;Acid1&lt;/a&gt; now passes in the new layout engine, and we’ve also surpassed legacy layout in the &lt;strong&gt;CSS2 abspos (by 50.0pp)&lt;/strong&gt;, CSS2 positioning (by 6.5pp), and CSS Position (by 4.4pp) test suites, while making big strides in others, like the &lt;strong&gt;CSSOM tests (+13.1pp)&lt;/strong&gt; and key parts of the &lt;strong&gt;CSS2 test suite (+15.8pp)&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;_floatmin&quot; style=&quot;clear: both;&quot;&gt;&lt;/span&gt;
&lt;a href=&quot;https://github.com/servo/servo/wiki/Roadmap/106e95887c3d9768f791a4e0501ba5c89abe9636&quot;&gt;Next year&lt;/a&gt;, our funding will go towards maintaining Servo, releasing nightlies on Android, finishing our integration with Tauri (thanks to NLNet), and implementing tables and better support for floats and non-Latin text (thanks to NLNet).&lt;/p&gt;
&lt;p&gt;Servo will also be at &lt;a href=&quot;https://fosdem.org/2024/&quot;&gt;FOSDEM 2024&lt;/a&gt;, with Rakhi Sharma speaking about &lt;a href=&quot;https://fosdem.org/2024/schedule/event/fosdem-2024-2321-embedding-servo-in-rust-projects/&quot;&gt;embedding Servo in Rust projects&lt;/a&gt; on &lt;strong&gt;3 February&lt;/strong&gt; at &lt;strong&gt;16:45 local time&lt;/strong&gt; (15:45 UTC).
See you there!&lt;/p&gt;
&lt;p&gt;There’s a lot more we would like to do, so if you or a company you know are interested in sponsoring the development of an embeddable, independent, memory-safe, modular, parallel web rendering engine, we want to hear from you!
Head over to &lt;a href=&quot;https://servo.org/blog-january-2024/sponsorship/&quot;&gt;our sponsorship page&lt;/a&gt;, or email &lt;a href=&quot;mailto:join@servo.org&quot;&gt;join@servo.org&lt;/a&gt; for enquiries.&lt;/p&gt;
&lt;p&gt;In a decade that many people feared would become the nadir of browser engine diversity, we hope we can help change that with Servo.&lt;/p&gt;
&lt;!--
pull request data
$ tools/list-pull-requests.sh servo/servo &#39;2022-.*&#39; | tee 2022.json
$ tools/list-pull-requests.sh servo/servo &#39;2023-.*&#39; | tee 2023.json

pull requests
- 2022: 215 (&lt; 2022.json jq -s length)
- 2023: 1037 (&lt; 2023.json jq -s length)

contributors
- 2022: 22 (&lt; 2022.json jq -r .user.login | sort | uniq -c | sort -nr | wc -l)
- 2023: 53 (&lt; 2023.json jq -r .user.login | sort | uniq -c | sort -nr | wc -l)

reviewers
- https://github.com/orgs/servo/teams/developers
- copy($$(&quot;#team-members li[data-bulk-actions-id]&quot;).map(x =&gt; x.dataset.bulkActionsId).sort().join(&quot;&#92;n&quot;))

commits
- 2022: 523 (git log --pretty=format:$&#39;%h&#92;t%cd&#39; | rg &#39; 2022 &#39; | wc -l)
- 2023: 2485 (git log --pretty=format:$&#39;%h&#92;t%cd&#39; | rg &#39; 2023 &#39; | wc -l)

for wpt pass rates and all other analysis, see assets/img/blog/recap-2023.ods
--&gt;
&lt;style&gt;
    /* guaranteed minimum width for first paragraph after a float */
    ._floatmin {
        display: block;
        width: 13em;
        overflow: hidden;
    }
    ._none {
        display: none;
    }
    ._fig:not(#specificity) {
        width: 33em;
        max-width: 100%;
        margin: 1em auto;
    }
    ._fig &gt; ._flex {
        display: flex;
    }
    ._fig._min {
        width: min-content;
    }
    ._fig table {
        text-align: initial;
    }
    ._fig figcaption._notes {
        text-align: left;
        width: max-content;
        max-width: 100%;
    }
    ._figl:not(#specificity),
    ._figr:not(#specificity) {
        margin: 0 1em 1em;
    }
    ._figl {
        float: left;
    }
    ._figr {
        float: right;
    }
    ._figl &gt; iframe,
    ._figr &gt; iframe,
    ._figl &gt; a &gt; img,
    ._figr &gt; a &gt; img {
        width: 17em;
        max-width: max-content;
    }
    ._figl._default &gt; iframe,
    ._figr._default &gt; iframe,
    ._figl._default &gt; a &gt; img,
    ._figr._default &gt; a &gt; img {
        width: auto;
        max-width: 100%;
    }
    ._runin {
        margin-bottom: 1em;
    }
    ._runin &gt; p,
    ._runin &gt; h2 {
        display: inline;
    }
    ._correction {
        max-width: 33em;
        margin: 1em auto;
        border-bottom: 1px solid;
        padding-bottom: 1em;
    }
&lt;/style&gt;
</content>
  </entry>
  <entry>
    <title>This month in Servo: better floats, color-mix(), try job labels, and more!</title>
    <link href="https://servo.org/blog-january-2024/blog/2023/11/30/embedding-floats-color-mix/"/>
    <updated>2023-11-30T00:00:00Z</updated>
    <id>https://servo.org/blog-january-2024/blog/2023/11/30/embedding-floats-color-mix/</id>
    <content xml:lang="en" type="html">&lt;aside class=&quot;_correction&quot;&gt;
&lt;p&gt;&lt;strong&gt;Correction (2023-12-04)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/servo/servo.org/pull/126&quot;&gt;An earlier version&lt;/a&gt; of this post said that Servo now supports the &lt;strong&gt;:has() selector&lt;/strong&gt;, but this was incorrect.
While some of the code implementing the feature has landed, it is &lt;a href=&quot;https://github.com/servo/servo/blob/7bcb25c85c98c367c6423ebc0fed964dd08cad56/components/selectors/parser.rs#L276-L279&quot;&gt;not yet enabled&lt;/a&gt;.&lt;/p&gt;
&lt;/aside&gt;
&lt;p&gt;November has been another exciting month for Servo!&lt;/p&gt;
&lt;p&gt;Our nightly example browser, servoshell, is now easier to navigate, &lt;strong&gt;accepting URLs without http:// or https://&lt;/strong&gt; both in the location bar and on the command line (&lt;a href=&quot;https://github.com/atbrakhi&quot;&gt;@atbrakhi&lt;/a&gt;, &lt;a href=&quot;https://servo.org/blog-january-2024/blog/2023/11/30/embedding-floats-color-mix/30148&quot;&gt;#30148&lt;/a&gt;), and should no longer lock up when run with &lt;code&gt;--no-minibrowser&lt;/code&gt; (&lt;a href=&quot;https://github.com/wusyong&quot;&gt;@wusyong&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30598&quot;&gt;#30598&lt;/a&gt;).
Local paths can also be given on the command line, and are still preferred when the path points to a file that exists.&lt;/p&gt;
&lt;p&gt;Work is now underway to &lt;a href=&quot;https://servo.org/blog-january-2024/blog/2023/10/26/css-filters-testing-tauri/#embeddable-web-engine&quot;&gt;improve our embedding story&lt;/a&gt; and prepare Servo for integration with &lt;a href=&quot;https://tauri.app/&quot;&gt;Tauri&lt;/a&gt;, starting with &lt;strong&gt;precompiled &lt;a href=&quot;https://en.wikipedia.org/wiki/ANGLE_(software)&quot;&gt;ANGLE&lt;/a&gt;&lt;/strong&gt; for faster initial builds (&lt;a href=&quot;https://github.com/atbrakhi&quot;&gt;@atbrakhi&lt;/a&gt;), better support for &lt;strong&gt;offscreen rendering&lt;/strong&gt; (&lt;a href=&quot;https://github.com/delan&quot;&gt;@delan&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30767&quot;&gt;#30767&lt;/a&gt;), and support for &lt;strong&gt;multiple webviews&lt;/strong&gt; (&lt;a href=&quot;https://github.com/delan&quot;&gt;@delan&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30648&quot;&gt;#30648&lt;/a&gt;).
These changes haven’t landed yet, but once they do, apps will be able to open, move, resize, and interleave Servo with other widgets.&lt;/p&gt;
&lt;figure class=&quot;_fig&quot;&gt;
&lt;div class=&quot;_flex&quot;&gt;
    &lt;a href=&quot;https://servo.org/blog-january-2024/img/blog/servoshell-mdi.png&quot;&gt;&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/servoshell-mdi.png&quot; alt=&quot;servoshell with a multiple-document interface, showing three overlapping egui windows of different sizes inside a native window&quot; /&gt;&lt;/a&gt;
&lt;/div&gt;
&lt;figcaption&gt;
&lt;p&gt;A very early prototype of a Servo-based multiple-document interface (&lt;a href=&quot;https://github.com/delan&quot;&gt;@delan&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30785&quot;&gt;#30785&lt;/a&gt;), taking advantage of upcoming embedding improvements to interleave Servo with &lt;a href=&quot;https://www.egui.rs/&quot;&gt;egui&lt;/a&gt; windows.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;floats-and-inline-layout&quot; tabindex=&quot;-1&quot;&gt;Floats and inline layout &lt;a class=&quot;header-anchor&quot; href=&quot;https://servo.org/blog-january-2024/blog/2023/11/30/embedding-floats-color-mix/#floats-and-inline-layout&quot;&gt;
        &lt;span class=&quot;icon hashlink&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/span&gt;
      &lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;We’ve made several improvements to Servo’s inline layout system, which handles the flow and wrapping of text, images, and inline blocks, delivering welcome bumps to our &lt;a href=&quot;https://servo.org/blog-january-2024/blog/2023/07/20/servo-web-platform-tests/&quot;&gt;WPT&lt;/a&gt; pass rates (&lt;a href=&quot;https://github.com/mrobinson&quot;&gt;@mrobinson&lt;/a&gt;, &lt;a href=&quot;https://github.com/Loirooriol&quot;&gt;@Loirooriol&lt;/a&gt;, &lt;a href=&quot;https://github.com/mukilan&quot;&gt;@mukilan&lt;/a&gt;):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;61.4% in the CSS2 &lt;code&gt;linebox&lt;/code&gt; test suite (+2.8pp), with better handling of line heights and forced line breaks (&lt;a href=&quot;https://github.com/servo/servo/pull/30519&quot;&gt;#30519&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;78.9% in &lt;code&gt;floats&lt;/code&gt; (+1.0pp) and 73.3% in &lt;code&gt;floats-clear&lt;/code&gt; (+0.5pp), by allowing trailing whitespace to overlap with floats (&lt;a href=&quot;https://github.com/servo/servo/pull/30586&quot;&gt;#30586&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;78.1% in &lt;code&gt;normal-flow&lt;/code&gt; (+1.1pp), by fixing inlines split by boxes and paving the way for fragments that span boxes (&lt;a href=&quot;https://github.com/servo/servo/pull/30608&quot;&gt;#30608&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;82.2% in &lt;code&gt;floats&lt;/code&gt; (a further +3.3pp), by fixing the fragmentation of unbreakable fragments that span multiple boxes (&lt;a href=&quot;https://github.com/servo/servo/pull/30628&quot;&gt;#30628&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;css-updates&quot; tabindex=&quot;-1&quot;&gt;CSS updates &lt;a class=&quot;header-anchor&quot; href=&quot;https://servo.org/blog-january-2024/blog/2023/11/30/embedding-floats-color-mix/#css-updates&quot;&gt;
        &lt;span class=&quot;icon hashlink&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/span&gt;
      &lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Several components and dependencies have been upgraded, the biggest being &lt;strong&gt;Stylo&lt;/strong&gt;, our Rust-based CSS engine that is now part of Firefox.
We’ve caught up with upstream Stylo by 311 commits, bringing our CSS support from August 2022 to June 2023 (&lt;a href=&quot;https://github.com/Loirooriol&quot;&gt;@Loirooriol&lt;/a&gt;, &lt;a href=&quot;https://github.com/mrobinson&quot;&gt;@mrobinson&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30646&quot;&gt;#30646&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30681&quot;&gt;#30681&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30692&quot;&gt;#30692&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30748&quot;&gt;#30748&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30770&quot;&gt;#30770&lt;/a&gt;), and bumped &lt;strong&gt;cssparser&lt;/strong&gt; to 0.31.2 (&lt;a href=&quot;https://github.com/Loirooriol&quot;&gt;@Loirooriol&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30771&quot;&gt;#30771&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;As a result, Servo now passes 60.5% of the CSSOM test suite (+3.3pp).
We also no longer incorrectly transition properties that are inherently “discrete” (&lt;a href=&quot;https://github.com/Loirooriol&quot;&gt;@Loirooriol&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30565&quot;&gt;#30565&lt;/a&gt;), passing a further (net) 294 test cases.&lt;/p&gt;
&lt;p&gt;Thanks to the recent work on Stylo by Mozilla and others, Servo now supports &lt;strong&gt;color-mix()&lt;/strong&gt; and the &lt;strong&gt;new color spaces&lt;/strong&gt; from &lt;a href=&quot;https://drafts.csswg.org/css-color-4/&quot;&gt;CSS Color 4&lt;/a&gt; (&lt;a href=&quot;https://github.com/Loirooriol&quot;&gt;@Loirooriol&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30752&quot;&gt;#30752&lt;/a&gt;)!
These new color features allow authors to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;select colors from wider gamuts than in sRGB (&lt;code&gt;display-p3&lt;/code&gt;, &lt;code&gt;a98-rgb&lt;/code&gt;, &lt;code&gt;prophoto-rgb&lt;/code&gt;, &lt;code&gt;rec2020&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;mix colors as if mixing intensities of colored light in real life (&lt;code&gt;srgb-linear&lt;/code&gt;, &lt;code&gt;xyz&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;select a variety of colors with consistent perceived lightness (&lt;code&gt;oklab&lt;/code&gt;, &lt;code&gt;lab&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;select colors with consistent perceived lightness and hue (&lt;code&gt;oklch&lt;/code&gt;, &lt;code&gt;lch&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;_fig&quot;&gt;
&lt;iframe src=&quot;https://bucket.daz.cat/work/igalia/servo/5.html&quot; id=&quot;_color_mix_demo&quot;&gt;&lt;/iframe&gt;
&lt;figcaption&gt;
&lt;p&gt;The results of mixing &lt;code&gt;lime&lt;/code&gt; and &lt;code&gt;blue&lt;/code&gt; in a variety of CSS color spaces, based on &lt;a href=&quot;https://codepen.io/web-dot-dev/full/MWBXVLV&quot;&gt;a demo&lt;/a&gt; from &lt;a href=&quot;https://developer.chrome.com/articles/css-color-mix/&quot;&gt;this post&lt;/a&gt;. The background color is the same as this blog post mixed with 10% white, or &lt;code&gt;color-mix(in oklch, #121619, white 10%)&lt;/code&gt;.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2 id=&quot;dependency-upgrades&quot; tabindex=&quot;-1&quot;&gt;Dependency upgrades &lt;a class=&quot;header-anchor&quot; href=&quot;https://servo.org/blog-january-2024/blog/2023/11/30/embedding-floats-color-mix/#dependency-upgrades&quot;&gt;
        &lt;span class=&quot;icon hashlink&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/span&gt;
      &lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Our upgrade efforts also affect the tooling Servo uses.
Servo now builds on Ubuntu 22.04 (&lt;a href=&quot;https://github.com/mukilan&quot;&gt;@mukilan&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30162&quot;&gt;#30162&lt;/a&gt;) and macOS 13 on CI, which in turn has made upgrading LLVM and Python (for mach) more urgent.
As a result, we’ve started upgrading Python from 3.10 to 3.12 (&lt;a href=&quot;https://github.com/mrobinson&quot;&gt;@mrobinson&lt;/a&gt;, &lt;a href=&quot;https://github.com/mukilan&quot;&gt;@mukilan&lt;/a&gt;, &lt;a href=&quot;https://github.com/sagudev&quot;&gt;@sagudev&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30638&quot;&gt;#30638&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30645&quot;&gt;#30645&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30659&quot;&gt;#30659&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30685&quot;&gt;#30685&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;But the biggest impact on our ability to keep our dependencies up to date comes from our &lt;strong&gt;Rust version&lt;/strong&gt;.
Many pre-version-1 libraries, even in our transitive dependencies, bump their &lt;abbr title=&quot;minimum supported Rust version&quot;&gt;MSRV&lt;/abbr&gt; quite aggressively, sometimes even requiring a nightly compiler.
First, we migrated from Rust nightly-2023-02-01 to nightly-03-18 (&lt;a href=&quot;https://github.com/mrobinson&quot;&gt;@mrobinson&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30630&quot;&gt;#30630&lt;/a&gt;), which in turn allowed us to upgrade our network stack (&lt;a href=&quot;https://github.com/mrobinson&quot;&gt;@mrobinson&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30612&quot;&gt;#30612&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30660&quot;&gt;#30660&lt;/a&gt;).
Since then, we’ve started eliminating our usage of unstable Rust features (&lt;a href=&quot;https://github.com/mrobinson&quot;&gt;@mrobinson&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30745&quot;&gt;#30745&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30742&quot;&gt;#30742&lt;/a&gt;), which should make future Rust upgrades easier.&lt;/p&gt;
&lt;h2 id=&quot;pull-requests&quot; tabindex=&quot;-1&quot;&gt;Pull requests &lt;a class=&quot;header-anchor&quot; href=&quot;https://servo.org/blog-january-2024/blog/2023/11/30/embedding-floats-color-mix/#pull-requests&quot;&gt;
        &lt;span class=&quot;icon hashlink&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/span&gt;
      &lt;/a&gt;&lt;/h2&gt;
&lt;figure class=&quot;_figr&quot;&gt;&lt;a href=&quot;https://servo.org/blog-january-2024/img/blog/try-job-labels.png&quot;&gt;&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/try-job-labels.png&quot; alt=&quot;GitHub pull request label menu, with the new try job labels (T-full, T-linux-wpt-2013, T-linux-wpt-2020, T-macos, T-windows)&quot; /&gt;&lt;/a&gt;&lt;/figure&gt;
&lt;p&gt;&lt;span class=&quot;_floatmin&quot;&gt;&lt;/span&gt;You can now &lt;strong&gt;run try jobs by adding labels&lt;/strong&gt; to your pull requests (&lt;a href=&quot;https://github.com/mrobinson&quot;&gt;@mrobinson&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30383&quot;&gt;#30383&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30647&quot;&gt;#30647&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30650&quot;&gt;#30650&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30756&quot;&gt;#30756&lt;/a&gt;).
You can even add multiple labels!
The old method, where you mention &lt;a href=&quot;https://github.com/bors-servo&quot;&gt;@bors-servo&lt;/a&gt; in a comment, has been removed (&lt;a href=&quot;https://github.com/mrobinson&quot;&gt;@mrobinson&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30712&quot;&gt;#30712&lt;/a&gt;), making your pull requests less likely to get spammed with job failures when you post comments on them.
For more details, see &lt;a href=&quot;https://github.com/servo/servo/blob/master/CONTRIBUTING.md&quot;&gt;CONTRIBUTING.md&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;stability&quot; tabindex=&quot;-1&quot;&gt;Stability &lt;a class=&quot;header-anchor&quot; href=&quot;https://servo.org/blog-january-2024/blog/2023/11/30/embedding-floats-color-mix/#stability&quot;&gt;
        &lt;span class=&quot;icon hashlink&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/span&gt;
      &lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;We’ve fixed a panic when no font is found for a run of text, printing a warning instead (&lt;a href=&quot;https://github.com/mrobinson&quot;&gt;@mrobinson&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30581&quot;&gt;#30581&lt;/a&gt;), as well as a panic when creating stacking contexts with zero scale (&lt;a href=&quot;https://github.com/mrobinson&quot;&gt;@mrobinson&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30713&quot;&gt;#30713&lt;/a&gt;).
In general, Servo should never panic outside of debug assertions.&lt;/p&gt;
&lt;p&gt;We’ve also fixed a bug where paint worklets may access thread-local storage after a script thread gets destroyed (&lt;a href=&quot;https://github.com/mrobinson&quot;&gt;@mrobinson&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30671&quot;&gt;#30671&lt;/a&gt;), which caused intermittent panics in 74 tests.&lt;/p&gt;
&lt;style&gt;
    /* guaranteed minimum width for first paragraph after a float */
    ._floatmin {
        display: block;
        width: 13em;
        overflow: hidden;
    }
    ._none {
        display: none;
    }
    ._fig:not(#specificity) {
        width: 33em;
        max-width: 100%;
        margin: 1em auto;
    }
    ._fig &gt; ._flex {
        display: flex;
    }
    ._fig._min {
        width: min-content;
    }
    ._fig table {
        text-align: initial;
    }
    ._fig figcaption._notes {
        text-align: left;
        width: max-content;
        max-width: 100%;
    }
    ._figl:not(#specificity),
    ._figr:not(#specificity) {
        margin: 0 1em 1em;
    }
    ._figl {
        float: left;
    }
    ._figr {
        float: right;
    }
    .figl &gt; iframe,
    .figr &gt; iframe,
    .figl &gt; a &gt; img,
    .figr &gt; a &gt; img {
        width: 17em;
        max-width: max-content;
    }
    ._runin {
        margin-bottom: 1em;
    }
    ._runin &gt; p,
    ._runin &gt; h2 {
        display: inline;
    }
    #_color_mix_demo {
        margin: 0 auto;
        display: block;
        height: min(calc(100vh - 9em), 400px);
        width: min(100%, 33em);
    }
    ._correction {
        max-width: 33em;
        margin: 1em auto;
        border-bottom: 1px solid;
        padding-bottom: 1em;
    }
&lt;/style&gt;
</content>
  </entry>
  <entry>
    <title>Servo announces grant from the NLnet Foundation</title>
    <link href="https://servo.org/blog-january-2024/blog/2023/11/06/nlgrant-announcement/"/>
    <updated>2023-11-06T00:00:00Z</updated>
    <id>https://servo.org/blog-january-2024/blog/2023/11/06/nlgrant-announcement/</id>
    <content xml:lang="en" type="html">&lt;p&gt;We are excited to announce that earlier this year in July, Servo received a &lt;strong&gt;&lt;a href=&quot;https://nlnet.nl/project/Servo/&quot;&gt;NLnet grant&lt;/a&gt;&lt;/strong&gt; to enhance several aspects of Servo. Under this grant, our primary focus is to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Complete float support in Servo&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Support more languages in inline layout&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Add initial &amp;lt;table&amp;gt; support&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;floats&quot; tabindex=&quot;-1&quot;&gt;Floats &lt;a class=&quot;header-anchor&quot; href=&quot;https://servo.org/blog-january-2024/blog/2023/11/06/nlgrant-announcement/#floats&quot;&gt;
        &lt;span class=&quot;icon hashlink&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/span&gt;
      &lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Supporting floats in Servo is an ongoing effort since mid-2023. We’ve made significant progress on floats, but there are still some issues that need to be addressed before Servo can boast a fully-compliant implementation of CSS floats.&lt;/p&gt;
&lt;p&gt;Our objective is to achieve an average pass rate of over 80% for &lt;code&gt;/css/CSS2/floats/&lt;/code&gt; and &lt;code&gt;/css/CSS2/floats-clear/&lt;/code&gt;. You can track the results on our &lt;strong&gt;&lt;a href=&quot;https://wpt.servo.org/&quot;&gt;WPT dashboard&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Last week, we surpassed this for the floats tests, with an 82.2% WPT pass rate:&lt;/p&gt;
&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/floats-2023-11-06.png&quot; style=&quot;width: 60%; margin: 1em;&quot; alt=&quot;Image showing web platform test result for floats, that is 82.2%&quot; /&gt;
&lt;p&gt;We’re also nearing the milestone for floats-clear, currently at a 73.3% pass rate:&lt;/p&gt;
&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/floats-clear-2023-11-06.png&quot; style=&quot;width: 60%; margin: 1em;&quot; alt=&quot;Image showing web platform test result for floats-clear, that is 73.3%&quot; /&gt;
&lt;h2 id=&quot;more-languages-in-inline-layout&quot; tabindex=&quot;-1&quot;&gt;More languages in inline layout &lt;a class=&quot;header-anchor&quot; href=&quot;https://servo.org/blog-january-2024/blog/2023/11/06/nlgrant-announcement/#more-languages-in-inline-layout&quot;&gt;
        &lt;span class=&quot;icon hashlink&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/span&gt;
      &lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Servo’s layout engine lacks crucial features for rendering languages that don’t use the Latin alphabet. This includes proper font selection, support for right-to-left scripts, and logical properties. Our aim is to improve Servo’s support for displaying a wider variety of content.&lt;/p&gt;
&lt;h2 id=&quot;initial-%3Ctable%3E-support&quot; tabindex=&quot;-1&quot;&gt;Initial &amp;lt;table&amp;gt; support &lt;a class=&quot;header-anchor&quot; href=&quot;https://servo.org/blog-january-2024/blog/2023/11/06/nlgrant-announcement/#initial-%3Ctable%3E-support&quot;&gt;
        &lt;span class=&quot;icon hashlink&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/span&gt;
      &lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;HTML tables are an important and widely used feature. Servo’s new layout engine doesn’t support tables yet, which leads to incorrect layout of many web pages. Under this scope, our main focus is to implement initial support for tables in Servo, so that it can render tables used on Wikipedia.&lt;/p&gt;
&lt;p&gt;As we progress and achieve these milestones, we’ll cover them in more detail in subsequent blog posts. Stay tuned for more updates!&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>This month in Servo: CSS filters, testing changes, Tauri, and more!</title>
    <link href="https://servo.org/blog-january-2024/blog/2023/10/26/css-filters-testing-tauri/"/>
    <updated>2023-10-26T00:00:00Z</updated>
    <id>https://servo.org/blog-january-2024/blog/2023/10/26/css-filters-testing-tauri/</id>
    <content xml:lang="en" type="html">&lt;p&gt;Servo has had some exciting changes land in our nightly builds over the last month:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;as of 2023-09-23, &lt;strong&gt;‘@media (resolution)’&lt;/strong&gt; queries are now supported (&lt;a href=&quot;https://github.com/sagudev&quot;&gt;@sagudev&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30406&quot;&gt;#30406&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;as of 2023-09-28, the &lt;strong&gt;‘dir’ attribute getter&lt;/strong&gt; now behaves correctly (&lt;a href=&quot;https://github.com/EnnuiL&quot;&gt;@EnnuiL&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30435&quot;&gt;#30435&lt;/a&gt;)
&lt;ul&gt;
&lt;li&gt;this fixes &lt;strong&gt;over 12000 subtests&lt;/strong&gt; in the HTML test suite!&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;style&gt;
    /* guaranteed minimum width for first paragraph after a float */
    ._floatmin {
        display: block;
        width: 13em;
        overflow: hidden;
    }
    ._none {
        display: none;
    }
    ._fig:not(#specificity) {
        width: 33em;
        max-width: 100%;
        margin: 1em auto;
    }
    ._fig &gt; ._flex {
        display: flex;
    }
    ._fig._min {
        width: min-content;
    }
    ._fig table {
        text-align: initial;
    }
    ._fig figcaption._notes {
        text-align: left;
        width: max-content;
        max-width: 100%;
    }
    ._figl:not(#specificity),
    ._figr:not(#specificity) {
        margin: 0 1em 1em;
    }
    ._figl {
        float: left;
    }
    ._figr {
        float: right;
    }
    .figl &gt; a &gt; img,
    .figr &gt; a &gt; img {
        width: 17em;
        max-width: max-content;
    }
    ._runin {
        margin-bottom: 1em;
    }
    ._runin &gt; p,
    ._runin &gt; h2 {
        display: inline;
    }
&lt;/style&gt;
&lt;p&gt;Much of the recent work on Servo has been around upgrading the components we share with Firefox:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;SpiderMonkey&lt;/strong&gt; — upgraded from 107 to 115 (&lt;a href=&quot;https://github.com/sagudev&quot;&gt;@sagudev&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/mozjs/pull/408&quot;&gt;mozjs#408&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30379&quot;&gt;#30379&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Stylo&lt;/strong&gt; — upgrade continues, with another 65 commits now landed in Servo (&lt;a href=&quot;https://github.com/Loirooriol&quot;&gt;@Loirooriol&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30421&quot;&gt;#30421&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;WebRender&lt;/strong&gt; — upgraded to &lt;a href=&quot;https://github.com/servo/servo/pull/30323&quot;&gt;May 2021&lt;/a&gt;, now fixing regressions and preparing for more breaking changes:
&lt;ul&gt;
&lt;li&gt;&lt;span class=&quot;_none&quot;&gt;as of 2023-09-19,&lt;/span&gt; we’ve fixed a scrolling regression in &lt;strong&gt;Acid2&lt;/strong&gt; and other quirks mode pages (&lt;a href=&quot;https://github.com/mrobinson&quot;&gt;@mrobinson&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30375&quot;&gt;#30375&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;_none&quot;&gt;as of 2023-09-21,&lt;/span&gt; we’ve fixed a major &lt;strong&gt;WebGL&lt;/strong&gt; regression related to tile cache invalidation (&lt;a href=&quot;https://github.com/mukilan&quot;&gt;@mukilan&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30390&quot;&gt;#30390&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;_none&quot;&gt;as of 2023-10-04,&lt;/span&gt; pinch zoom is now handled in Servo, preparing us for its removal from WebRender (&lt;a href=&quot;https://github.com/mrobinson&quot;&gt;@mrobinson&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30446&quot;&gt;#30446&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30459&quot;&gt;#30459&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sometimes the best source of ideas for improving Servo is to focus on a real-world app.
&lt;a href=&quot;https://github.com/EnnuiL&quot;&gt;Ennui @EnnuiL&lt;/a&gt; is doing exactly that with &lt;a href=&quot;https://orteil.dashnet.org/cookieclicker/&quot;&gt;Cookie Clicker&lt;/a&gt;, a 2013 idle game that relies on CSS positioning, transitions, transforms, filters, and 2D canvases.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;as of 2023-10-05, the &lt;strong&gt;CSS ‘drop-shadow()’ filter&lt;/strong&gt; is now supported (&lt;a href=&quot;https://github.com/EnnuiL&quot;&gt;@EnnuiL&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30439&quot;&gt;#30439&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;as of 2023-10-10, CSS filters are now correctly &lt;strong&gt;clipped by ‘overflow: hidden’&lt;/strong&gt; (&lt;a href=&quot;https://github.com/EnnuiL&quot;&gt;@EnnuiL&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30517&quot;&gt;#30517&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;as of 2023-10-19, &lt;strong&gt;drawImage()&lt;/strong&gt; on a 2D canvas now uses shared memory for performance (&lt;a href=&quot;https://github.com/EnnuiL&quot;&gt;@EnnuiL&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30544&quot;&gt;#30544&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;her work continues in &lt;a href=&quot;https://github.com/servo/servo/issues/30535&quot;&gt;#30535&lt;/a&gt;, with an analysis of Servo’s performance issues under Cookie Clicker&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;_fig&quot;&gt;
    &lt;div class=&quot;_flex&quot;&gt;
        &lt;a href=&quot;https://servo.org/blog-january-2024/img/blog/drop-shadow-filter-before.png&quot;&gt;&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/drop-shadow-filter-before.png&quot; alt=&quot;Cookie Clicker on Servo 2023-10-04, without the drop-shadow() filter&quot; /&gt;&lt;/a&gt;
        &lt;a href=&quot;https://servo.org/blog-january-2024/img/blog/drop-shadow-filter-after.png&quot;&gt;&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/drop-shadow-filter-after.png&quot; alt=&quot;Cookie Clicker on Servo 2023-10-05, now with the drop-shadow() filter&quot; /&gt;&lt;/a&gt;
    &lt;/div&gt;
    &lt;figcaption&gt;
        left: Cookie Clicker as of 2023-10-04
        &lt;br /&gt;right: Cookie Clicker as of 2023-10-05
    &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;div class=&quot;_runin&quot;&gt;&lt;p&gt;&lt;span class=&quot;_floatmin&quot;&gt;&lt;/span&gt;There have also been some changes to our internals that affect &lt;/p&gt;&lt;h2&gt;contributing to Servo&lt;/h2&gt;&lt;p&gt;.&lt;/p&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Debug assertions&lt;/strong&gt; are now enabled everywhere except for official nightly releases (&lt;a href=&quot;https://github.com/delan&quot;&gt;@delan&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30509&quot;&gt;#30509&lt;/a&gt;).
This includes both debug (&lt;code&gt;-d --dev&lt;/code&gt;) and release (&lt;code&gt;-r --release&lt;/code&gt;) builds locally, as well as try jobs and most other builds on CI.
For more details, see &lt;a href=&quot;https://github.com/servo/servo/blob/a3d2f0c586e97e26906bd2327395186bf140f49b/docs/HACKING_QUICKSTART.md#building-servo&quot;&gt;HACKING_QUICKSTART.md&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;With debug assertions enabled, you can use &lt;a href=&quot;https://doc.rust-lang.org/std/macro.debug_assert.html&quot;&gt;debug_assert!()&lt;/a&gt; to panic when an invariant is violated, much like you would use &lt;a href=&quot;https://source.chromium.org/chromium/chromium/src/+/main:base/check.h;drc=95330f60656455a82d816e24907ed67b99cb8720&quot;&gt;DCHECK()&lt;/a&gt; in Chromium, or for more complex checks, you can wrap code in &lt;code&gt;#[cfg(debug_assertions)]&lt;/code&gt; or &lt;code&gt;if cfg!(debug_assertions) {}&lt;/code&gt;.
Note that panicking in official releases — where &lt;code&gt;cfg!(debug_assertions)&lt;/code&gt; is false — is still verboten in general, and those panics should almost always warn and/or gracefully recover instead.&lt;/p&gt;
&lt;div class=&quot;_runin&quot; style=&quot;clear: both;&quot;&gt;&lt;p&gt;Servo has long aimed to become an &lt;/p&gt;&lt;h2 id=&quot;embeddable-web-engine&quot;&gt;embeddable web engine&lt;/h2&gt;&lt;p&gt;, and our next step on this journey will be supported by a grant from &lt;a href=&quot;https://nlnet.nl/project/Tauri-Servo/&quot;&gt;NLNet&lt;/a&gt;!
Over the next few months, we will be collaborating with the developers of &lt;a href=&quot;https://tauri.app/&quot;&gt;Tauri&lt;/a&gt; to make Servo available as a webview backend.&lt;/p&gt;&lt;/div&gt;
&lt;p&gt;Tauri is a framework for building desktop apps that combine a web frontend with a Rust backend, and work is already ongoing to expand it to mobile apps and other backend languages.
But unlike say, Electron or React Native, Tauri is both frontend-agnostic and engine-agnostic, allowing you to use any frontend tooling you like and whichever web engine makes the most sense for your users.&lt;/p&gt;
&lt;p&gt;At the moment, Tauri supports webkit2gtk (WebKit) on Linux, WebView2 (Chromium) on Windows, and WKWebView (WebKit) on macOS and iOS, in each case leveraging the system webview where possible.
With this project to add support for Servo in Tauri, we hope to make embedding Servo easier than ever.&lt;/p&gt;
&lt;p&gt;For more details, subscribe to our tracking issue &lt;a href=&quot;https://github.com/servo/servo/issues/30593&quot;&gt;#30593&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;_runin&quot;&gt;&lt;p&gt;This was a big month for Servo at &lt;/p&gt;&lt;h2&gt;conferences and events&lt;/h2&gt;&lt;p&gt; too! You can catch up on our recent talks here:&lt;/p&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;on 18 September, &lt;a href=&quot;https://www.youtube.com/watch?v=J4qedc-0pjs&amp;amp;t=2356s&quot;&gt;&lt;strong&gt;Servo project update&lt;/strong&gt;&lt;/a&gt;, by Manuel Rego at &lt;a href=&quot;https://lfeuropems2023.sched.com/event/1PCHu&quot;&gt;LF Europe Member Summit&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;on 21 September, &lt;a href=&quot;https://www.youtube.com/watch?v=9lkIX5ryZZ4&quot;&gt;&lt;strong&gt;Servo Web Rendering Engine Reboot&lt;/strong&gt;&lt;/a&gt;, by Manuel Rego at &lt;a href=&quot;https://osseu2023.sched.com/event/1OGkc&quot;&gt;Open Source Summit Europe&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;on 24 September, &lt;a href=&quot;https://www.bilibili.com/video/BV1Hw411r7Q6/&quot;&gt;&lt;strong&gt;You can work on the web platform!&lt;/strong&gt;&lt;/a&gt;, by Martin Robinson at &lt;a href=&quot;https://workshop2023.gosim.org/schedule#mobile&quot;&gt;GOSIM workshop 2023&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;on 26 September, &lt;strong&gt;Servo: a web view from somewhere else&lt;/strong&gt; (video pending), by Martin Robinson at &lt;a href=&quot;https://conference2023.gosim.org/schedule#mobile&quot;&gt;GOSIM conference 2023&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;on 17 October, &lt;a href=&quot;https://servo.org/slides/2023-10-17-eclipsecon/&quot;&gt;&lt;strong&gt;Servo&lt;/strong&gt;&lt;/a&gt;, by Rakhi Sharma at &lt;a href=&quot;https://www.eclipsecon.org/2023/&quot;&gt;EclipseCon 2023&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
  </entry>
  <entry>
    <title>This month in Servo: upcoming events, new browser UI, and more!</title>
    <link href="https://servo.org/blog-january-2024/blog/2023/09/15/upcoming-events-and-new-browser-ui/"/>
    <updated>2023-09-15T00:00:00Z</updated>
    <id>https://servo.org/blog-january-2024/blog/2023/09/15/upcoming-events-and-new-browser-ui/</id>
    <content xml:lang="en" type="html">&lt;p&gt;Servo has had some exciting changes land in our nightly builds over the last month:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;as of 2023-08-09, we now use &lt;strong&gt;rustls&lt;/strong&gt; instead of OpenSSL (&lt;a href=&quot;https://github.com/servo/servo/pull/30025&quot;&gt;#30025&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;as of 2023-08-21, our experimental &lt;strong&gt;WebGPU&lt;/strong&gt; support was updated (&lt;a href=&quot;https://github.com/servo/servo/pull/29795&quot;&gt;#29795&lt;/a&gt;, &lt;a href=&quot;https://github.com/servo/servo/pull/30359&quot;&gt;#30359&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;as of 2023-08-26, we can now build on &lt;strong&gt;ARM32&lt;/strong&gt; in addition to ARM64 (&lt;a href=&quot;https://github.com/servo/servo/pull/30204&quot;&gt;#30204&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;as of 2023-09-01, CSS &lt;strong&gt;floats&lt;/strong&gt; are now supported again (&lt;a href=&quot;https://github.com/servo/servo/pull/30243&quot;&gt;#30243&lt;/a&gt; et al)&lt;/li&gt;
&lt;li&gt;as of 2023-09-05, &lt;strong&gt;‘white-space: nowrap’&lt;/strong&gt; is now supported again (&lt;a href=&quot;https://github.com/servo/servo/pull/30259&quot;&gt;#30259&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;as of 2023-09-07, we have an improved &lt;strong&gt;crash error page&lt;/strong&gt; (&lt;a href=&quot;https://github.com/servo/servo/pull/30290&quot;&gt;#30290&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;as of 2023-09-15, our &lt;strong&gt;new browser UI&lt;/strong&gt; is enabled by default (&lt;a href=&quot;https://github.com/servo/servo/issues/30049&quot;&gt;#30049&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;style&gt;
    /* guaranteed minimum width for first paragraph after a float */
    ._floatmin {
        display: block;
        width: 13em;
        overflow: hidden;
    }
    .figl:not(#specificity),
    .figr:not(#specificity) {
        margin: 0 1em 1em;
    }
    .figl {
        float: left;
    }
    .figr {
        float: right;
    }
    .figl &gt; a &gt; img,
    .figr &gt; a &gt; img {
        width: 17em;
        max-width: max-content;
    }
    .figw &gt; a &gt; img {
        width: 33em;
        max-width: 100%;
    }
&lt;/style&gt;
&lt;figure class=&quot;figr&quot;&gt;&lt;a href=&quot;https://servo.org/blog-january-2024/img/blog/webgpu-game-of-life.png&quot;&gt;&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/webgpu-game-of-life.png&quot; alt=&quot;WebGPU game of life, showing a 32x32 grid where the living cells are shaded with a rainbow texture&quot; /&gt;&lt;/a&gt;&lt;/figure&gt;
&lt;p&gt;&lt;span class=&quot;_floatmin&quot;&gt;&lt;/span&gt;While our &lt;strong&gt;WebGPU&lt;/strong&gt; support is still very much experimental (&lt;code&gt;--pref dom.webgpu.enabled&lt;/code&gt;), it now passes over 5000 more tests in the &lt;a href=&quot;https://github.com/gpuweb/cts&quot;&gt;Conformance Test Suite&lt;/a&gt;, after an upgrade from wgpu 0.6 (2020) to 0.16 (2023) and the addition of GPUSupportedFeatures. A few WebGPU demos now run too, notably those that don’t require &lt;a href=&quot;https://github.com/servo/servo/blob/0b86d6579823d0786b37cee86eaaf3ce6bd8aa7d/components/script/dom/htmlcanvaselement.rs#L98-L110&quot;&gt;changing the width or height on the fly&lt;/a&gt;, such as the &lt;a href=&quot;https://sagudev.github.io/briefcase/first-webgpu/9-endgame.html&quot;&gt;Conway’s Game of Life&lt;/a&gt; built in &lt;a href=&quot;https://codelabs.developers.google.com/your-first-webgpu-app&quot;&gt;Your first WebGPU app&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Both of these were contributed by &lt;a href=&quot;https://github.com/sagudev&quot;&gt;Samson @sagudev&lt;/a&gt;, who has also done a lot of work on our DOM bindings, SpiderMonkey integration, and CI workflows, and we’re pleased to now have them join Servo as a reviewer too!&lt;/p&gt;
&lt;figure class=&quot;figl&quot;&gt;&lt;a href=&quot;https://servo.org/blog-january-2024/img/blog/floats-wikipedia.png&quot;&gt;&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/floats-wikipedia.png&quot; alt=&quot;Wikipedia article for Servo, showing article text flowing around the floating infobox on the right&quot; /&gt;&lt;/a&gt;&lt;/figure&gt;
&lt;p&gt;On the CSS front, &lt;strong&gt;floats&lt;/strong&gt; and &lt;strong&gt;‘white-space: nowrap’&lt;/strong&gt; were previously only supported in our legacy layout engine (&lt;code&gt;--legacy-layout&lt;/code&gt;), but now they are supported again, and better than ever before! Floats in particular are one of the trickiest parts of CSS2, and our legacy version had many bugs that were essentially unfixable due to the &lt;a href=&quot;https://servo.org/blog-january-2024/blog/2023/04/13/layout-2013-vs-2020/&quot;&gt;legacy layout architecture&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Sometimes Servo crashes due to bugs or unimplemented features, and Rust helps us ensure that they almost always happen &lt;em&gt;safely&lt;/em&gt; by panicking, but there’s still a lot we can do to improve the user experience while surfacing those panics, especially on platforms without stdio like Windows.&lt;/p&gt;
&lt;p&gt;Our new &lt;strong&gt;crash error page&lt;/strong&gt; shows the panic message and stack trace, instead of a confusing “unexpected scheme” error, and allows the user to reload the page. Note that not all crashes are handled gracefully yet — more work is needed to allow recovery from crashes in style and layout.&lt;/p&gt;
&lt;figure class=&quot;figw&quot;&gt;&lt;a href=&quot;https://servo.org/blog-january-2024/img/blog/crash-error-page.png&quot;&gt;&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/crash-error-page.png&quot; alt=&quot;Servo’s new crash error page, showing a fake panic!() inserted at the start of Document::Write&quot; /&gt;&lt;/a&gt;&lt;/figure&gt;
&lt;p&gt;Servo’s example browser — the nightly version of Servo you can download and run — now has a location bar! This &lt;strong&gt;new browser UI&lt;/strong&gt;, or “minibrowser” mode, is now enabled by default, though you can disable it with &lt;code&gt;--no-minibrowser&lt;/code&gt; if you run into any problems. See also &lt;a href=&quot;https://github.com/servo/servo/issues/30049&quot;&gt;#30049&lt;/a&gt; for known issues with the minibrowser.&lt;/p&gt;
&lt;figure class=&quot;figw&quot;&gt;&lt;a href=&quot;https://servo.org/blog-january-2024/img/blog/new-browser-ui.png&quot;&gt;&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/new-browser-ui.png&quot; alt=&quot;Servo’s new browser UI, showing a toolbar with a location field and go button&quot; /&gt;&lt;/a&gt;&lt;/figure&gt;
&lt;h3 id=&quot;upcoming-events&quot; tabindex=&quot;-1&quot;&gt;Upcoming events &lt;a class=&quot;header-anchor&quot; href=&quot;https://servo.org/blog-january-2024/blog/2023/09/15/upcoming-events-and-new-browser-ui/#upcoming-events&quot;&gt;
        &lt;span class=&quot;icon hashlink&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/span&gt;
      &lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;September is also a big month for Servo as a project! We have &lt;a href=&quot;https://linuxfoundation.eu/newsroom/servo-web-rendering-engine-joins-linux-foundation-europe&quot;&gt;joined Linux Foundation Europe&lt;/a&gt;, and we’re also attending several events in Bilbao, Spain, and Shanghai, China.&lt;/p&gt;
&lt;p&gt;Servo will be at the &lt;a href=&quot;https://events.linuxfoundation.org/lf-europe-member-summit/program/schedule/&quot;&gt;LF Europe Member Summit&lt;/a&gt; in Bilbao, with a &lt;a href=&quot;https://lfeuropems2023.sched.com/event/1PCHu&quot;&gt;brief project update&lt;/a&gt; on &lt;strong&gt;18 September&lt;/strong&gt; at &lt;strong&gt;10:45 local time&lt;/strong&gt; (08:45 UTC), and the &lt;a href=&quot;https://events.linuxfoundation.org/open-source-summit-europe/&quot;&gt;Open Source Summit Europe&lt;/a&gt;, with Manuel Rego &lt;a href=&quot;https://osseu2023.sched.com/event/1OGkc&quot;&gt;speaking about Servo&lt;/a&gt; on &lt;strong&gt;21 September&lt;/strong&gt; at &lt;strong&gt;11:55 local time&lt;/strong&gt; (09:55 UTC).&lt;/p&gt;
&lt;p&gt;At both events, we will also have a booth where you can play with Servo on a real device and ask us questions about the project, all day from &lt;strong&gt;18 September&lt;/strong&gt; through &lt;strong&gt;21 September&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;The following week, you can find us at the &lt;a href=&quot;https://www.gosim.org/#events&quot;&gt;GOSIM&lt;/a&gt; &lt;a href=&quot;https://workshop2023.gosim.org/&quot;&gt;workshop&lt;/a&gt; and &lt;a href=&quot;https://conference2023.gosim.org/&quot;&gt;conference&lt;/a&gt; in Shanghai, with Martin Robinson presenting one workshop and one talk:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://workshop2023.gosim.org/schedule#mobile&quot;&gt;&lt;strong&gt;You can work on the web platform!&lt;/strong&gt;&lt;/a&gt; — an introduction to hacking on Servo, on &lt;strong&gt;24 September&lt;/strong&gt; at &lt;strong&gt;13:45 local time&lt;/strong&gt; (05:45 UTC)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://conference2023.gosim.org/schedule#mobile&quot;&gt;&lt;strong&gt;Servo: a web view from somewhere else&lt;/strong&gt;&lt;/a&gt; — a case for embeddable web engine diversity and Servo’s role in improving that, on &lt;strong&gt;26 September&lt;/strong&gt; at &lt;strong&gt;14:45 local time&lt;/strong&gt; (06:45 UTC)&lt;/li&gt;
&lt;/ul&gt;
</content>
  </entry>
  <entry>
    <title>Servo and the Web Platform Tests</title>
    <link href="https://servo.org/blog-january-2024/blog/2023/07/20/servo-web-platform-tests/"/>
    <updated>2023-07-20T00:00:00Z</updated>
    <id>https://servo.org/blog-january-2024/blog/2023/07/20/servo-web-platform-tests/</id>
    <content xml:lang="en" type="html">&lt;p&gt;With over 52000 tests and nearly two million subtests, the &lt;a href=&quot;https://web-platform-tests.org/&quot;&gt;Web Platform Tests&lt;/a&gt; are one of the most important parts of the web’s interoperability and compatibility story. Servo has long used the WPT to catch regressions and &lt;a href=&quot;https://servo.org/blog/2023/03/16/making-easier-to-contribute/&quot;&gt;flakiness&lt;/a&gt;, but the suite has also played a role in our &lt;a href=&quot;https://servo.org/blog/2023/04/13/layout-2013-vs-2020/&quot;&gt;layout engine migration&lt;/a&gt; and guiding our way towards CSS2 conformance.&lt;/p&gt;
&lt;style&gt;
    ._runin {
        margin-bottom: 1em;
    }
    ._runin &gt; p,
    ._runin &gt; h2 {
        display: inline;
    }
&lt;/style&gt;
&lt;div class=&quot;_runin&quot;&gt;&lt;p&gt;You can find Servo on &lt;/p&gt;&lt;h2&gt;&lt;a href=&quot;https://wpt.fyi/&quot;&gt;wpt.fyi&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;, a dashboard for all browsers integrated with the Web Platform Tests.&lt;/p&gt;&lt;/div&gt;
&lt;p&gt;To see the pass rates for Servo, follow &lt;a href=&quot;https://wpt.fyi/results/?label=master&amp;amp;label=experimental&amp;amp;product=servo&quot;&gt;this direct link&lt;/a&gt;, or click &lt;span style=&quot;font-size: 87.5%;&quot;&gt;EDIT&lt;/span&gt;, &lt;span style=&quot;font-size: 87.5%;&quot;&gt;ADD PRODUCT&lt;/span&gt;, choose Servo, then click &lt;span style=&quot;font-size: 87.5%;&quot;&gt;SUBMIT&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;While fyi is not so great for tracking progress over time (though definitely &lt;a href=&quot;https://wpt.fyi/runs?label=master&amp;amp;product=servo&quot;&gt;possible&lt;/a&gt;), it has been very helpful for drilling down from specs to sections, tests, and subtests. This has made it easier for us to decide what to work on next.&lt;/p&gt;
&lt;div class=&quot;_runin&quot;&gt;&lt;p&gt;But the key to this was our &lt;/p&gt;&lt;h2&gt;&lt;a href=&quot;https://wpt.servo.org/&quot;&gt;Servo WPT dashboard&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;.&lt;/p&gt;&lt;/div&gt;
&lt;p&gt;The full dashboard can be found at &lt;a href=&quot;https://wpt.servo.org/&quot;&gt;wpt.servo.org&lt;/a&gt;, and there’s a simplified version &lt;a href=&quot;https://servo.org/about/#wpt-pass-rates&quot;&gt;on our about page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Built in April, the dashboard has since tracked Servo’s pass rate over time, not just over the suite as a whole but also over several &lt;em&gt;focus areas&lt;/em&gt;:&lt;/p&gt;
&lt;table style=&quot;width: auto;&quot;&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;ul&gt;
&lt;li&gt;CSS overall
    &lt;ul&gt;
    &lt;li&gt;our CSS2 focus areas →
    &lt;/li&gt;&lt;li&gt;CSS position module
    &lt;/li&gt;&lt;li&gt;CSS flexbox module
    &lt;/li&gt;&lt;li&gt;CSSOM
    &lt;/li&gt;&lt;/ul&gt;
&lt;/li&gt;&lt;/ul&gt;
&lt;/td&gt;&lt;td&gt;
&lt;ul&gt;
&lt;li&gt;abspos
&lt;/li&gt;&lt;li&gt;box-display
&lt;/li&gt;&lt;li&gt;floats
&lt;/li&gt;&lt;li&gt;floats-clear
&lt;/li&gt;&lt;li&gt;linebox
&lt;/li&gt;&lt;li&gt;margin-padding-clear
&lt;/li&gt;&lt;li&gt;normal-flow
&lt;/li&gt;&lt;li&gt;positioning
&lt;/li&gt;&lt;/ul&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;The dashboard has data for both our &lt;a href=&quot;https://servo.org/blog/2023/04/13/layout-2013-vs-2020/&quot;&gt;legacy and new layout engines&lt;/a&gt;, which made it easy to see where the new engine most needed catching up.&lt;/p&gt;
&lt;p&gt;Over the last three months, we’ve halved the gap with legacy or better in several of those areas:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CSS overall (7.7pp → 3.7pp)&lt;/li&gt;
&lt;li&gt;our CSS2 focus areas (19.0pp → 8.2pp)&lt;/li&gt;
&lt;li&gt;margin-padding-clear (33.0pp → 10.3pp)&lt;/li&gt;
&lt;li&gt;CSS flexbox module (10.5pp → 3.1pp)&lt;/li&gt;
&lt;li&gt;CSS position module (2.5pp → 0.2pp(!))&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We’re two thirds of the way to legacy in floats (31.5pp → 10.8pp) and floats-clear (48.3pp → 3.3pp(!)):&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/wpt-dashboard-floats.png&quot; alt=&quot;floats: 18 (legacy 50) on 1 april, 23 (legacy 52) on 15 june, 33 on 17 june, 37 (legacy 53) on 18 july, 42 on 19 july&quot; style=&quot;width: 50%;&quot; /&gt;&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/wpt-dashboard-floats-clear.png&quot; alt=&quot;floats-clear: 18 (legacy 66) on 1 april, 20 (legacy 67) on 15 june, 51 on 16 june, 57 on 22 june, 63 on 1 july, 64 on 20 july&quot; style=&quot;width: 50%;&quot; /&gt;&lt;/p&gt;
&lt;p&gt;And in the CSS2 positioning tests, we’ve surpassed legacy and built a healthy 5.5pp lead:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/wpt-dashboard-positioning.png&quot; alt=&quot;positioning: 77.7 (legacy 80.9) on 1 april, 81.7 (legacy 81.1) on 13 april, 85.7 on 1 july, 86.6 on 20 july&quot; style=&quot;width: 50%;&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Over time, as our pass rates improve or people start working on new things, we’ll continue &lt;a href=&quot;https://github.com/servo/internal-wpt-dashboard/blob/461c573885c17f42687fb26131fe8ccd4213b826/process-wpt-results.js&quot;&gt;adding new focus areas&lt;/a&gt;, and with the web platform continuously evolving, we probably won’t run out of areas any time soon.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Conference news</title>
    <link href="https://servo.org/blog-january-2024/blog/2023/06/19/conference-news/"/>
    <updated>2023-06-19T00:00:00Z</updated>
    <id>https://servo.org/blog-january-2024/blog/2023/06/19/conference-news/</id>
    <content xml:lang="en" type="html">&lt;p&gt;In May of 2023, Martin Robinson from the Servo project team had the chance to participate in the &lt;a href=&quot;https://2023.rustnl.org/&quot;&gt;&lt;strong&gt;RustNL 2023&lt;/strong&gt;&lt;/a&gt; conference in Amsterdam. There he gave a &lt;a href=&quot;https://www.youtube.com/watch?v=IdHvHoAO5oo&quot;&gt;lighting talk about the Servo project&lt;/a&gt; and its current plans. In addition, he participated in some follow up discussions exploring the possibility of using Servo in various Rust application frameworks.&lt;/p&gt;
&lt;p&gt;In the first week of June 2023, the Servo project team participated in the &lt;a href=&quot;https://webengineshackfest.org/2023/&quot;&gt;&lt;strong&gt;Web Engines Hackfest 2023&lt;/strong&gt;&lt;/a&gt;. Delan Azabani gave a &lt;a href=&quot;https://www.youtube.com/watch?v=pfk8s5OD99A&quot;&gt;talk about the Servo project&lt;/a&gt;, diving into the details of the team’s work in the first half of the year and its plans for the second half. The talk provided some valuable insights into running some Servo &lt;a href=&quot;https://demo.servo.org/&quot;&gt;demos&lt;/a&gt; as well as the status of floats and the evolution of the layout system. In addition, there were some engaging discussions around the future of the shared style crate in Gecko and Servo.&lt;/p&gt;
&lt;p&gt;At the same event there was also a &lt;a href=&quot;https://github.com/Igalia/webengineshackfest/issues/16&quot;&gt;breakout session about Servo&lt;/a&gt; where various topics were addressed, such how to coordinate development efforts between Mozilla and Gecko on the shared webrender and style crates. Of particular interest was the implementation and challenges of a new embedding API for Servo. Lastly, there was a discussion about simplifying the contribution process to the Servo project, with a focus on making it more beginner-friendly and enabling a broader participation from interested individuals. You can find the &lt;a href=&quot;https://github.com/Igalia/webengineshackfest/wiki/2023-Servo&quot;&gt;session notes online&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Around the end of  June, Servo will attend the &lt;a href=&quot;https://events.linuxfoundation.org/embedded-open-source-summit/&quot;&gt;&lt;strong&gt;Embedded Open Source Summit&lt;/strong&gt;&lt;/a&gt; in Prague. If you are participating in this event, feel free to &lt;a href=&quot;mailto:info@servo.org&quot;&gt;contact us&lt;/a&gt; with any questions about the project status and our plans for the future.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Adding support for ‘outline’ properties</title>
    <link href="https://servo.org/blog-january-2024/blog/2023/05/31/adding-support-for-outline-properties/"/>
    <updated>2023-05-31T00:00:00Z</updated>
    <id>https://servo.org/blog-january-2024/blog/2023/05/31/adding-support-for-outline-properties/</id>
    <content xml:lang="en" type="html">&lt;p&gt;As mentioned in &lt;a href=&quot;https://servo.org/blog/2023/04/13/layout-2013-vs-2020/&quot;&gt;our last blog post&lt;/a&gt;, we’re currently working on selecting a layout engine for Servo between the original Layout 2013 and the newer Layout 2020.&lt;/p&gt;
&lt;p&gt;Our plan has been to start by implementing some small features in Layout 2020, to help us decide whether to switch to the new layout engine, and in turn tackle more complex features like floats. One of these features was ‘outline’, which is now supported in the new engine.&lt;/p&gt;
&lt;p&gt;A few days ago, we landed support for ‘outline’ and ‘outline-offset’. These properties are now fully supported in Servo, with two minor caveats:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/servo/servo/pull/29718&quot;&gt;Snap border and outline widths at computed-value time&lt;/a&gt; — this is blocked on a Stylo upgrade to avoid diverging from Firefox&lt;/li&gt;
&lt;li&gt;The ‘outline-style’ value ‘auto’ currently works like ‘solid’ — this is allowed by the spec, but we may be able to do something better here, like rounding the corners of the outline or matching the platform style&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The impact of this feature is most noticeable in the focus styles for links and input fields. For example, the User Agent stylesheet already applies ‘outline: thin dotted’ to ‘a:focus’, so clicking the first link in&lt;/p&gt;
&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;Lorem ipsum &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;dolor sit amet&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;,
consectetur &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;adipiscing elit&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;now yields&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/servo-outline.png&quot; alt=&quot;Text with two links where the first one is focused so it has a thin outline around it&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;implementation&quot; tabindex=&quot;-1&quot;&gt;Implementation &lt;a class=&quot;header-anchor&quot; href=&quot;https://servo.org/blog-january-2024/blog/2023/05/31/adding-support-for-outline-properties/#implementation&quot;&gt;
        &lt;span class=&quot;icon hashlink&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/span&gt;
      &lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The bulk of the feature was implemented in &lt;a href=&quot;https://github.com/servo/servo/pull/29695&quot;&gt;#29695&lt;/a&gt; (‘outline’) and &lt;a href=&quot;https://github.com/servo/servo/pull/29702&quot;&gt;#29702&lt;/a&gt; (‘outline-offset’):&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;In &lt;code&gt;{longhands,shorthands}/outline.mako.rs&lt;/code&gt;, we enable ‘outline-offset’, ‘outline-color’, and ‘outline’ in Layout 2020, and remove the pref gates for ‘outline-style’ and ‘outline-width’, allowing those properties to be resolved and queried&lt;/li&gt;
&lt;li&gt;In &lt;code&gt;BoxFragment::build_stacking_context_tree_for_children&lt;/code&gt;, we check ‘outline-width’ and (if non-zero) push a &lt;code&gt;StackingContextFragment&lt;/code&gt; to remind ourselves to paint an outline for the box fragment when building its display list&lt;/li&gt;
&lt;li&gt;In &lt;code&gt;StackingContext::build_display_list&lt;/code&gt;, we search for those reminders and paint the necessary outlines, but only after all other kinds of content in the stacking context (“out-of-band”)&lt;/li&gt;
&lt;li&gt;In &lt;code&gt;BuilderForBoxFragment::build&lt;/code&gt;, we now need to handle requests to paint the &lt;code&gt;Outline&lt;/code&gt;, not just the &lt;code&gt;BlockBackgroundsAndBorders&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;In &lt;code&gt;BuilderForBoxFragment::build_outline&lt;/code&gt;, we paint the outline by creating a &lt;code&gt;BorderDisplayItem&lt;/code&gt; in WebRender, while taking the ‘outline-offset’ into account&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;We also improved the shorthand serialisation in &lt;a href=&quot;https://github.com/servo/servo/pull/29708&quot;&gt;#29708&lt;/a&gt;, by replacing the &lt;code&gt;#[derive(ToCss)]&lt;/code&gt; for ‘outline’ with a custom impl that returns ‘auto’ in the case where all of the longhands are set to initial values.&lt;/p&gt;
&lt;h2 id=&quot;tests-and-spec-issues&quot; tabindex=&quot;-1&quot;&gt;Tests and spec issues &lt;a class=&quot;header-anchor&quot; href=&quot;https://servo.org/blog-january-2024/blog/2023/05/31/adding-support-for-outline-properties/#tests-and-spec-issues&quot;&gt;
        &lt;span class=&quot;icon hashlink&quot;&gt;&lt;i class=&quot;fas fa-link&quot;&gt;&lt;/i&gt;&lt;/span&gt;
      &lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The spec allows outlines to be painted either &lt;a href=&quot;https://drafts.csswg.org/css-position-4/#in-band-outline&quot;&gt;in-band&lt;/a&gt;, such that other elements can obscure them, or &lt;a href=&quot;https://drafts.csswg.org/css-position-4/#out-of-band-outline&quot;&gt;out-of-band&lt;/a&gt;, on top of all other content in the stacking context. We chose the latter, because it’s the recommended approach for accessibility and matches other browsers.&lt;/p&gt;
&lt;p&gt;For example, the magenta element below overlaps the blue border of the previous element, but not the out-of-band cyan outline:&lt;/p&gt;
&lt;pre class=&quot;language-html&quot;&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token special-attr&quot;&gt;&lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;
    outline: 5px solid cyan;
    border: 5px solid blue;
&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;Lorem ipsum&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;div&lt;/span&gt; &lt;span class=&quot;token special-attr&quot;&gt;&lt;span class=&quot;token attr-name&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;
    background: magenta;
    margin-top: -15px;
    width: 50px;
    height: 50px;
&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;div&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&quot;https://servo.org/blog-january-2024/img/blog/servo-outline-painting.png&quot; alt=&quot;Painting order is blue border, then magenta background, then “Lorem ipsum” and cyan outline&quot; /&gt;&lt;/p&gt;
&lt;p&gt;‘outline’ already has good test coverage, though during our implementation we added &lt;a href=&quot;https://github.com/servo/servo/pull/29686&quot;&gt;one new test&lt;/a&gt; to check that ‘background-clip’ works as expected with ‘border-radius’, which affects both borders and outlines in Servo.&lt;/p&gt;
&lt;p&gt;We’ve also filed two spec issues:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/w3c/csswg-drafts/issues/8786&quot;&gt;Negative outline-offset is not interoperable and spec is not clear&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/w3c/csswg-drafts/issues/8788&quot;&gt;Should outline-offset be a longhand of outline?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As always, despite ‘outline’ being a well-known property that has long been implemented by all of the major engines, with every new implementation comes new opportunities to clarify specs and improve test coverage. Building features like ‘outline’ helps the web platform as much as it helps Servo.&lt;/p&gt;
</content>
  </entry>
</feed>